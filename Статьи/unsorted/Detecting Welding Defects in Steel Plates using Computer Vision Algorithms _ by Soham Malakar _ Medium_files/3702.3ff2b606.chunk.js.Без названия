(self.webpackChunklite=self.webpackChunklite||[]).push([[3702],{75374:(e,n,t)=>{"use strict";t.d(n,{f:()=>X,N:()=>Y});var i=t(63038),a=t.n(i),r=t(67294),o=t(5977),l=t(38352),c=t(77355),u=t(8431),s=function(e){var n=e.title;return r.createElement(c.x,{width:"100%",padding:"0 20px"},r.createElement(c.x,{display:"flex",justifyContent:"space-between",marginBottom:"8px"},r.createElement(u.Lh,null,n)),r.createElement(l.oK,{paddingTopBottom:"0"}))},d=t(35473),m=t(14818),p=t(93310),f=t(87691),g=t(18627),v=t(14646),y=t(78249),h=t(87498),b=t(26679),k={display:"block",textAlign:"left",width:"252px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},x={fill:"rgba(0, 0, 0, 0.54)",display:"block",marginLeft:"5px",marginRight:"6px"},w=function(e){var n=e.type,t=e.name,i=e.url,a=e.imageId,o=e.query,l=e.queryId,u=e.index,s=e.itemId,w=e.algoliaIndexName,I=e.isFocus,E=e.isLastItem,C=e.description,N=(0,g.Av)(),O=(0,v.I)(),S=(0,b.Ir)({queryId:l,indexName:w}),P=r.useRef(null),T=r.useCallback((function(e){N.event("search.predictiveResultClicked",{type:n.toLowerCase(),query:o,path:e.currentTarget.href,rank:0,total:0}),S(s,u)}),[o,n,S,s,u]),F=r.useMemo((function(){return"TAG"===n?r.createElement("div",{className:O(x)},r.createElement(y.Z,null)):"COLLECTION"===n?r.createElement(m.z,{miroId:a||"",freezeGifs:!1,alt:t||"Publication avatar",diameter:24}):"USER"===n?r.createElement(m.z,{miroId:a||h.gG,alt:t||"",diameter:24,freezeGifs:!1}):r.createElement(r.Fragment,null)}),[t,a]),_=r.useMemo((function(){return r.createElement(f.F,{color:"DARKER",scale:"M"},r.createElement("span",{className:O(k)},t))}),[t]);return r.useEffect((function(){I&&P.current&&P.current.focus()}),[I,P.current]),r.createElement(c.x,{display:"flex",tag:"li",paddingLeft:"20px",paddingRight:"12px",marginBottom:E?void 0:"12px"},r.createElement(p.r,{ref:P,tabIndex:-1,linkStyle:"SUBTLE",href:i,onClick:T},r.createElement(d.Y,{avatar:F,title:_,description:C&&r.createElement(c.x,{tag:"span",textAlign:"left"},C),clampDescription:1})))},I=t(60671),E=t(75221),C=t(50458),N=t(63459),O={width:"252px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},S=function(e){var n=e.post,t=e.queryId,i=e.index,a=e.isEntityRouter,o=e.isFocus,l=(0,v.I)(),u=r.useRef(null),s=(0,C.jVf)({id:n.postId},a),d=(0,b.Ir)({queryId:t,indexName:E.uw.POST}),m=r.useCallback((function(){d(n.objectID,i)}),[d,i,n.objectID]);return r.useEffect((function(){o&&u.current&&u.current.focus()}),[o,u.current]),r.createElement(c.x,{display:"flex",tag:"li",paddingLeft:"20px",paddingRight:"12px"},r.createElement(c.x,{marginBottom:"16px"},r.createElement(p.r,{ref:u,onClick:m,tabIndex:-1,linkStyle:"SUBTLE",href:s},r.createElement(f.F,{scale:"S",color:"DARKER"},r.createElement("div",{className:l(O)},n.title)),r.createElement(f.F,{scale:"S"},r.createElement(N.E,{timestamp:n.latestPublishedAt})))))};function P(e){var n=e.data,t=e.refIndex,i=e.isLastPopover,a=e.query,o=n.collections;return r.createElement(r.Fragment,null,r.createElement(s,{title:"Publications"}),r.createElement(c.x,{marginTop:"12px",marginBottom:i?void 0:"15px"},o.hits.map((function(e,n){var i=e.collectionId,l=e.objectID,c=e.imageId,u=e.name;return r.createElement(w,{isFocus:t===n,key:i,algoliaIndexName:E.uw.COLLECTION,index:n,itemId:l,queryId:o.queryId,type:"COLLECTION",name:u,imageId:c,url:(0,C.RHb)(i),query:a,isLastItem:o.hits.length-1===n})}))))}function T(e){var n=e.data,t=e.authDomain,i=e.entityType,a=e.refIndex,o=e.isLastPopover,l=e.query,u=n.tags;return r.createElement(r.Fragment,null,r.createElement(s,{title:"Tags"}),r.createElement(c.x,{marginTop:"12px",marginBottom:o?void 0:"15px"},u.hits.map((function(e,n){var o=e.displayText,c=e.objectID,s=e.tagSlug;return r.createElement(w,{isFocus:a===n,key:s,type:"TAG",algoliaIndexName:E.uw.TAG,index:n,itemId:c,queryId:u.queryId,name:o,url:(0,C.HYG)(s,t,i),query:l,isLastItem:u.hits.length-1===n})}))))}function F(e){var n=e.data,t=e.authDomain,i=e.refIndex,a=e.isLastPopover,o=e.query,l=n.users;return r.createElement(r.Fragment,null,r.createElement(s,{title:"People"}),r.createElement(c.x,{marginTop:"12px",marginBottom:a?void 0:"15px"},l.hits.map((function(e,n){var a=e.imageId,c=e.objectID,u=e.name,s=e.userId,d=e.username,m=(0,C.Qyn)(d,t);return r.createElement(w,{isFocus:i===n,key:s,type:"USER",algoliaIndexName:E.uw.USER,index:n,queryId:l.queryId,itemId:c,imageId:a,name:u,url:m,query:o,isLastItem:l.hits.length-1===n})}))))}function _(e){var n=e.data,t=e.isCollection,i=e.refIndex,a=e.entityType,o=e.isLastPopover,l=e.isCatalog,u=n.posts,d="Profile";l?d="List":t&&(d="Publication");var m="From this ".concat(d);return r.createElement(r.Fragment,null,r.createElement(s,{title:m}),r.createElement(c.x,{marginTop:"12px",marginBottom:o?void 0:"15px"},u.hits.map((function(e,n){return r.createElement(S,{key:"story-item-".concat(n),post:e,index:n,queryId:u.queryId,isEntityRouter:a!==I.Cr.DEFAULT,isFocus:i===n})}))))}function D(e){var n=e.data,t=e.authDomain,i=e.query,a=e.entityType,o=e.focusIndex,u=e.isCollection,s=e.isCatalog;if(!i)return null;var d=n.collections,m=n.tags,p=n.users,f=n.posts,g=p.hits.length>0,v=d.hits.length>0,y=m.hits.length>0,h=f.hits.length>0;return g||v||y||h?r.createElement(c.x,{width:"316px"},r.createElement(l.mX,{padding:"30px"},h&&r.createElement(_,{data:n,isCollection:u,isCatalog:s,isLastPopover:!v&&!y&&!g,refIndex:o,query:i,entityType:a}),g&&r.createElement(F,{data:n,authDomain:t,refIndex:o,isLastPopover:!v&&!y,query:i}),v&&r.createElement(P,{data:n,refIndex:null!==o?o-p.hits.length:null,isLastPopover:!y,query:i}),y&&r.createElement(T,{data:n,authDomain:t,entityType:a,refIndex:null!==o?o-p.hits.length-d.hits.length:null,isLastPopover:!0,query:i}))):null}var q=t(25735),L=t(73917),R=t(31889),j=t(43487),A=t(21638),U=t(13241),B=t(27460),V=t(71341),M=t(68894),H=t(42140),Q=function(e){return function(n){return{display:"flex",border:"1px solid ".concat(n.baseColor.border.lighter),borderRadius:"20px",width:e?"100%":"inherit"}}},G=function(e){return{boxShadow:"0px 2px 10px 0px #00000026",border:"1px solid ".concat(e.baseColor.background.normal)}},K=function(e){return{":after":{boxShadow:"-1px -1px 1px -1px #00000026",border:"1px solid ".concat(e.baseColor.background.normal)}}},z=function(e){return{border:"none",outline:"none",fontFamily:A.k2,fontSize:"14px",lineHeight:"20px",marginRight:"20px",width:"100%",padding:"8px 0 11px",backgroundColor:"transparent",color:e.baseColor.text.normal,"::placeholder":{color:e.baseColor.text.lighter}}},$="searchResults";function Y(e){var n=e.searchPlaceholder,t=e.isPopoverVisible,i=e.onQueryChange,l=e.entityType,u=e.authDomain,s=e.children,d=e.onKeyDown,m=e.watchQueryUrl,p=e.fullWidth,f=e.collectionSlug,g=e.mainSearchCategory,y=(0,v.I)(),h=(0,R.F)(),k=(0,o.TH)(),x=(0,H.dD)(k.search).q,w=r.useRef(null),I=r.useState(m?x:null),E=a()(I,2),N=E[0],O=E[1],S=(0,j.v9)((function(e){return e.navigation.hostname})),P=(0,C.gxh)({category:g,collectionSlug:f}),T=(0,V.h)({queryParams:{q:null!=N?N:""}}),F=r.useCallback((function(e){O(e.target.value),i(e.target.value)}),[i]),_=r.useCallback((function(e){"Enter"===e.key&&N&&(0,b._)(N),d?d(e):"Enter"===e.key?S===u?T(P):window.location.assign("https://".concat(u).concat(P,"?q=").concat(N)):"ArrowDown"===e.key&&w.current&&w.current.blur()}),[w.current,N,l,u,S,P,T,d]);return r.useEffect((function(){x&&m&&(O(x),i(x))}),[x,i,m]),r.createElement("div",{className:y(Q(!!p))},s,r.createElement(c.x,{tag:"span",padding:"7px 7px 6px 8px"},r.createElement(U.Z,{fill:h.baseColor.fill.darker})),r.createElement("input",{role:"combobox","aria-controls":$,"aria-expanded":t?"true":"false","aria-label":"search",tabIndex:0,className:y(z),placeholder:n,ref:w,value:null!=N?N:"",onChange:F,onKeyDown:_}))}function X(e){var n=e.algoliaIndexes,t=e.algoliaQueryContext,i=e.mainSearchCategory,o=e.publisher,l=e.catalogId,c=e.hitsPerPagePerIndex,u=(0,g.Av)(),s=(0,M.O)(!1),d=a()(s,3),m=d[0],p=d[1],f=d[2],v=(0,j.v9)((function(e){return e.config.productName})),y=(0,j.v9)((function(e){return e.config.algolia})),h=(0,j.v9)((function(e){return e.config.authDomain})),b=(0,j.v9)((function(e){return e.client.routingEntity.type})),k=r.useState(null),x=a()(k,2),w=x[0],I=x[1],E=r.useState(""),C=a()(E,2),N=C[0],O=C[1],S="Collection"===(null==o?void 0:o.__typename),P="Collection"===(null==o?void 0:o.__typename)?o.slug:void 0,T=!!(0,q.VB)({name:"can_view_unfiltered_search",placeholder:!1}),F=!T,_=(0,B.xY)(t,N,n,{filterForHighQuality:F,publisher:o,catalogId:l,hitsPerPagePerIndex:c}),R=a()(_,2),A=R[0],U=R[1],V=r.useCallback((function(e){O(e),e||f(),I(null),m||(p(),u.event("search.predictiveOpened",{})),u.event("search.predictiveQueried",{query:e})}),[T,f,p,y,N]),H=r.useCallback((function(){return r.createElement(D,{productName:v,entityType:b,authDomain:h,query:N,data:A,focusIndex:w,isCollection:S,isCatalog:!!l})}),[v,b,h,N,A,w,S]);return r.useEffect((function(){if(m){var e=function(e){var n="ArrowUp"===e.key,t="ArrowDown"===e.key;if(n||t){e.preventDefault();var i=U-1;if(null===w&&t)I(0);else if(null!==w){var a=(w+(t?1:-1))%U;I(a<0?i:a)}}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[w,m,U]),r.createElement(Y,{authDomain:h,entityType:b,isPopoverVisible:U>0&&m,searchPlaceholder:"Search",onQueryChange:V,collectionSlug:P,mainSearchCategory:i},r.createElement(L.J,{ariaId:$,isVisible:U>0&&m,hide:f,arrowPadding:{left:32},popoverRenderFn:H,setMaxHeight:!0,popoverRules:G,arrowRules:K,placement:"bottom-start"},r.createElement(r.Fragment,null)))}},19308:(e,n,t)=>{"use strict";t.d(n,{b3:()=>l,Iq:()=>c});var i=t(319),a=t.n(i),r=t(68216),o=t(98007),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_collection"}}]}}].concat(a()(r.nf.definitions),a()(o.Os.definitions))}},82405:(e,n,t)=>{"use strict";t.d(n,{b3:()=>F,Iq:()=>_,MT:()=>L,Fp:()=>R});var i=t(63038),a=t.n(i),r=t(28655),o=t.n(r),l=t(92471),c=t(21919),u=t(67294),s=t(5977),d=t(77520),m=t(25550),p=t(25267),f=t(67701),g=t(26350),v=t(98007),y=t(50563),h=t(93310),b=t(77355),k=t(47230),x=t(18627),w=t(66411),I=t(92661),E=t(43487),C=t(50458),N=t(68216);function O(){var e=o()(["\n  mutation UnfollowCollectionMutation($id: ID!) {\n    unfollowCollection(targetCollectionId: $id) {\n      __typename\n      id\n      viewerEdge {\n        __typename\n        id\n        isFollowing\n      }\n    }\n  }\n"]);return O=function(){return e},e}function S(){var e=o()(["\n  mutation FollowCollectionMutation($id: ID!) {\n    followCollection(targetCollectionId: $id) {\n      __typename\n      id\n      viewerEdge {\n        __typename\n        id\n        isFollowing\n      }\n    }\n  }\n"]);return S=function(){return e},e}function P(){var e=o()(["\n  fragment CollectionFollowButton_collection on Collection {\n    __typename\n    id\n    name\n    slug\n    ...collectionUrl_collection\n    ...SusiClickable_collection\n  }\n  ","\n  ","\n"]);return P=function(){return e},e}function T(){var e=o()(["\n  fragment CollectionFollowButton_post on Post {\n    __typename\n    id\n  }\n"]);return T=function(){return e},e}var F=(0,l.Ps)(T()),_=(0,l.Ps)(P(),N.nf,v.Os),D=(0,l.Ps)(S()),q=(0,l.Ps)(O()),L=function(e,n){var t=(0,c.D)(q),i=a()(t,1)[0];return u.useCallback((function(){return i({variables:{id:e},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,y.im)("followedCollections",!1)}})}})}),[e])},R=function(e){var n,t=e.buttonSize,i=e.buttonStyleFn,r=e.collection,o=e.post,l=e.simpleLink,v=e.susiEntry,C=void 0===v?"follow_card":v,N=e.preventParentClick,O=(0,E.v9)((function(e){return e.config.authDomain})),S=(0,m.r)().viewerId,P=(0,x.Av)(),T=(0,w.pK)(),F=(0,s.TH)(),_=(0,I.$B)(F.pathname),q=null==_||null===(n=_.route)||void 0===n?void 0:n.name,R=(0,f.gY)(r),A=R.viewerEdge,U=R.loading,B=function(e,n){var t=(0,c.D)(D),i=a()(t,1)[0];return u.useCallback((function(){return i({variables:{id:e},optimisticResponse:{followCollection:{__typename:"Collection",id:e,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e,"-viewerId:").concat(n),isFollowing:!0}}},update:function(t){t.modify({id:"User:".concat(n),fields:{missionControl:(0,y.im)("followedCollections",!0),followingCollectionConnection:(0,y.Hc)(e)}})}})}),[e])}(r.id,S),V=L(r.id,S),M=u.useCallback((function(e){N&&e.preventDefault(),null!=A&&A.isFollowing||(P.event("collection.followed",{collectionId:r.id,followSource:T}),B())}),[r,A,N,T]),H=u.useCallback((function(e){N&&e.preventDefault(),P.event("collection.unfollowed",{collectionId:r.id,followSource:T}),V()}),[N,T]),Q=!(null==A||!A.isFollowing),G=i?i(!!Q):Q?"OBVIOUS":"STRONG";return l?u.createElement(h.r,{onClick:Q?H:M},u.createElement(b.x,{display:"flex",flexDirection:"row"},Q?"Unfollow publication":"Follow publication")):u.createElement(p.I,null,(function(e){return e?u.createElement(k.z,{size:t,onClick:Q?V:B,buttonStyle:G,loading:U},Q?"Following":"Follow"):u.createElement(g.R,{collection:r,buttonStyle:Q?"OBVIOUS":"STRONG",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:j(O,r,o)||"",susiEntry:C,pageSource:(0,d.x)(q,"register")},Q?"Following":"Follow")}))},j=function(e,n,t){return n.slug&&(t&&t.id?(0,C.TAb)(e,n.slug,t.id):(0,C.LlO)(e,n.slug))}},27460:(e,n,t)=>{"use strict";t.d(n,{tp:()=>h,xY:()=>O});var i,a=t(59713),r=t.n(a),o=t(12297),l=t.n(o),c=t(94301),u=t.n(c),s=t(67294),d=t(27517),m=t(6443),p=t(86994),f=t(3184),g=t(43487);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e[e.User=1]="User",e[e.Author=2]="Author"}(i||(i={}));var h={numericFilters:"peopleType!=".concat(i.Author)},b={collection:"collections",post:"posts",user:"users",tag:"tags"},k="/1/indexes/*/queries",x="user",w="collection",I="post",E="numericFilters";function C(e,n){return"".concat(e,"-").concat(n)}var N={collections:{hits:[]},posts:{hits:[]},users:{hits:[]},tags:{hits:[]}};function O(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=s.useRef(""),r=i.filterForHighQuality,o=i.filters,c=i.publisher,v=i.catalogId,O=i.hitsPerPagePerIndex,S=(null==c?void 0:c.id)||null,P=(0,m.H)(),T=P.value,F=P.loading,_=(0,p.c)(),D=_.loading,q=_.isBot,L=F||D,R=(0,d.I0)(),j=(0,g.v9)((function(e){return e.config.algolia})),A=(0,g.v9)((function(e){var t;return null===(t=e.algolia.queries[n])||void 0===t?void 0:t.status})),U="https://".concat(j.appId).concat(j.host).concat(k),B=C(e,n),V=C(e,a.current),M=(0,g.b$)((function(e){var n;return null===(n=e.algolia.queries[V])||void 0===n?void 0:n.data})),H=(0,g.b$)((function(e){var n;return null===(n=e.algolia.queries[B])||void 0===n?void 0:n.data})),Q=H||M||N;s.useEffect((function(){H&&(a.current=n)}),[n,H,a.current]);var G=s.useMemo((function(){return l()(Object.values(Q).map((function(e){return e.hits.length})))}),[Q]),K=["web","inline"],z=s.useMemo((function(){var e=t.map((function(e){var t=e===I&&v,i=y({query:n,hitsPerPage:O&&O[e]||3,numericFilters:"",clickAnalytics:!L&&!q,analyticsTags:t?K.concat(["list"]):K},o);return e===I&&(v?i.filters="_tags:'list_".concat(v,"'"):S&&(i.facetFilters="Collection"===(null==c?void 0:c.__typename)?"collectionId:".concat(S):"authorId:".concat(S))),"tag"===e?i[E]="postCount>=1":e===x&&r?i.filters="highQualityUser:true":e===w&&r?i.filters="isHighQualityCollection:true":e===I&&(i.attributesToRetrieve="title,postId,latestPublishedAt"),e===x&&(i[E]=h.numericFilters),{indexName:j.indexPrefix+e,params:Object.keys(i).map((function(e){return e+"="+i[e]})).join("&")}}));return JSON.stringify({requests:e})}),[j,L,q,n,T,r,o]),$=s.useCallback((function(e){var n=e.results,i={users:{hits:[]},collections:{hits:[]},tags:{hits:[]},posts:{hits:[]}};return t.forEach((function(e,t){var a,r;i[b[e]]={hits:(null===(a=n[t])||void 0===a?void 0:a.hits)||[],queryId:null===(r=n[t])||void 0===r?void 0:r.queryID}})),i}),[t]);return s.useEffect((function(){if(n&&!L&&"loading"!==A&&"error"!==A&&"success"!==A){var e={"X-Algolia-API-Key":j.apiKeySearch,"X-Algolia-Application-Id":j.appId};T&&(e["X-Algolia-UserToken"]=T.id),R((0,f.Zl)(B)),u()(U,{method:"POST",headers:e,body:z}).then((function(e){return e.json()})).then((function(e){e.status>=400?R((0,f.TT)(B)):R((0,f.Yy)(B,$(e)))})).catch((function(){R((0,f.TT)(B))}))}}),[U,j,z,T,L,n,A,$,B]),[Q,G]}},71341:(e,n,t)=>{"use strict";t.d(n,{h:()=>o});var i=t(67294),a=t(5977),r=t(66411);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,a.k6)(),t=(0,r.pK)(),o=i.useCallback((function(i){var a=new URLSearchParams;if(t&&a.set("source",t),e.queryParams)for(var r in e.queryParams)a.set(r,e.queryParams[r]);var o={pathname:i,search:a.toString()?"?".concat(a.toString()):"",hash:e.hash,state:e.state};e.replace?n.replace(o):n.push(o)}),[n,t,e.queryParams,e.hash,e.state]);return o}},26679:(e,n,t)=>{"use strict";t.d(n,{_:()=>O,KM:()=>N,DL:()=>S,Bm:()=>T,IB:()=>b,_u:()=>P,Ir:()=>C,VR:()=>E});var i=t(319),a=t.n(i),r=t(63038),o=t.n(r),l=t(59713),c=t.n(l),u=t(21919),s=t(67294),d=t(36405),m=t(75221),p=t(78285),f=t(28959),g=t(27460),v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SearchClickEventMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"queryId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"indexName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AlgoliaIndexName"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"objectIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"positions"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchClickEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"queryId"},value:{kind:"Variable",name:{kind:"Name",value:"queryId"}}},{kind:"Argument",name:{kind:"Name",value:"indexName"},value:{kind:"Variable",name:{kind:"Name",value:"indexName"}}},{kind:"Argument",name:{kind:"Name",value:"objectIds"},value:{kind:"Variable",name:{kind:"Name",value:"objectIds"}}},{kind:"Argument",name:{kind:"Name",value:"positions"},value:{kind:"Variable",name:{kind:"Name",value:"positions"}}}]}]}}]};function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){c()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b={users:"search_user",posts:"search_post",tags:"search_tag",publications:"search_publication",none:"search_post"},k={filters:"highQualityUser:true OR writtenByHighQulityUser:true"},x={filters:"writtenByHighQualityUser:true"},w=new f.Z("recent_searches"),I="queries";function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.isRecommendations,t=e.canViewUnfiltered,i=void 0!==t&&t,a=!!(0,d.P5)("can_view_unfiltered_search"),r=!i&&!a,o=s.useMemo((function(){var e=["web"];return n&&e.push("recommendations"),{clickAnalytics:!0,analyticsTags:e}}),[n]),l=s.useMemo((function(){return h(h({},r?k:{}),g.tp)}),[r]),u=s.useMemo((function(){return r?x:{}}),[r]);return s.useMemo((function(){var e;return e={},c()(e,m.uw.COLLECTION,o),c()(e,m.uw.POST,h(h({},u),o)),c()(e,m.uw.USER,h(h({},l),o)),c()(e,m.uw.TAG,h({numericFilters:"postCount>=1"},o)),c()(e,m.uw.BOOK_EDITION,{}),e}),[o,u,l])}function C(e){var n=e.queryId,t=e.indexName,i=(0,u.D)(v),a=o()(i,1)[0];return s.useCallback((function(e,i){n&&e&&a({variables:{queryId:n,indexName:t,positions:[i+1],objectIds:[e]}})}),[a,n,t])}function N(){return w.get(I)||[]}function O(e){var n=N();if(e){var t=[e].concat(a()(n.filter((function(n){return n!==e}))));w.set(I,t.slice(0,10))}}function S(e){var n=N();w.set(I,n.filter((function(n){return e!==n})))}function P(e,n,t){var i=new URLSearchParams(n.location.search);e?i.set("q",e):i.delete("q");var a=i.toString();t((0,p.kO)(a)),n.push({search:a})}function T(e){var n=e.split("/"),t=n.indexOf("search"),i=t>-1?n[t+1]:null;return i?["users","tags","posts","publications"].includes(i)?i:null:"none"}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3702.3ff2b606.chunk.js.map
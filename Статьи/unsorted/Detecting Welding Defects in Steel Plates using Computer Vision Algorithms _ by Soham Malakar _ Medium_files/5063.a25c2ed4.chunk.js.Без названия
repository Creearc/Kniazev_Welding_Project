(self.webpackChunklite=self.webpackChunklite||[]).push([[5063],{53690:(n,t,e)=>{"use strict";e.d(t,{Z:()=>l});var o=e(67294);function r(){return(r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n}).apply(this,arguments)}var i=o.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"});const l=function(n){return o.createElement("svg",r({width:21,height:21},n),i)}},78271:(n,t,e)=>{"use strict";e.d(t,{Z:()=>l});var o=e(67294);function r(){return(r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n}).apply(this,arguments)}var i=o.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"});const l=function(n){return o.createElement("svg",r({width:21,height:21},n),i)}},50344:(n,t,e)=>{"use strict";e.d(t,{Z:()=>l});var o=e(67294);function r(){return(r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n}).apply(this,arguments)}var i=o.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"});const l=function(n){return o.createElement("svg",r({width:21,height:21},n),i)}},8969:(n,t,e)=>{"use strict";e.d(t,{Z:()=>l});var o=e(67294);function r(){return(r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n}).apply(this,arguments)}var i=o.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"});const l=function(n){return o.createElement("svg",r({width:21,height:21},n),i)}},45957:(n,t,e)=>{"use strict";e.d(t,{Z:()=>l});var o=e(67294);function r(){return(r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n}).apply(this,arguments)}var i=o.createElement("g",{fillRule:"evenodd"},o.createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),o.createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"}));const l=function(n){return o.createElement("svg",r({width:21,height:21},n),i)}},42440:(n,t,e)=>{"use strict";e.d(t,{Z:()=>l});var o=e(67294);function r(){return(r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n}).apply(this,arguments)}var i=o.createElement("g",{fillRule:"evenodd"},o.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),o.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));const l=function(n){return o.createElement("svg",r({width:19,height:19,viewBox:"0 0 19 19"},n),i)}},82405:(n,t,e)=>{"use strict";e.d(t,{b3:()=>D,Iq:()=>M,MT:()=>j,Fp:()=>F});var o=e(63038),r=e.n(o),i=e(28655),l=e.n(i),a=e(92471),c=e(21919),u=e(67294),s=e(5977),d=e(77520),f=e(25550),p=e(25267),v=e(67701),m=e(26350),h=e(98007),g=e(50563),y=e(93310),b=e(77355),P=e(47230),w=e(18627),O=e(66411),_=e(92661),C=e(43487),A=e(50458),S=e(68216);function E(){var n=l()(["\n  mutation UnfollowCollectionMutation($id: ID!) {\n    unfollowCollection(targetCollectionId: $id) {\n      __typename\n      id\n      viewerEdge {\n        __typename\n        id\n        isFollowing\n      }\n    }\n  }\n"]);return E=function(){return n},n}function I(){var n=l()(["\n  mutation FollowCollectionMutation($id: ID!) {\n    followCollection(targetCollectionId: $id) {\n      __typename\n      id\n      viewerEdge {\n        __typename\n        id\n        isFollowing\n      }\n    }\n  }\n"]);return I=function(){return n},n}function x(){var n=l()(["\n  fragment CollectionFollowButton_collection on Collection {\n    __typename\n    id\n    name\n    slug\n    ...collectionUrl_collection\n    ...SusiClickable_collection\n  }\n  ","\n  ","\n"]);return x=function(){return n},n}function T(){var n=l()(["\n  fragment CollectionFollowButton_post on Post {\n    __typename\n    id\n  }\n"]);return T=function(){return n},n}var D=(0,a.Ps)(T()),M=(0,a.Ps)(x(),S.nf,h.Os),R=(0,a.Ps)(I()),z=(0,a.Ps)(E()),j=function(n,t){var e=(0,c.D)(z),o=r()(e,1)[0];return u.useCallback((function(){return o({variables:{id:n},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:n,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(n,"-viewerId:").concat(t),isFollowing:!1}}},update:function(n){n.modify({id:"User:".concat(t),fields:{missionControl:(0,g.im)("followedCollections",!1)}})}})}),[n])},F=function(n){var t,e=n.buttonSize,o=n.buttonStyleFn,i=n.collection,l=n.post,a=n.simpleLink,h=n.susiEntry,A=void 0===h?"follow_card":h,S=n.preventParentClick,E=(0,C.v9)((function(n){return n.config.authDomain})),I=(0,f.r)().viewerId,x=(0,w.Av)(),T=(0,O.pK)(),D=(0,s.TH)(),M=(0,_.$B)(D.pathname),z=null==M||null===(t=M.route)||void 0===t?void 0:t.name,F=(0,v.gY)(i),L=F.viewerEdge,N=F.loading,k=function(n,t){var e=(0,c.D)(R),o=r()(e,1)[0];return u.useCallback((function(){return o({variables:{id:n},optimisticResponse:{followCollection:{__typename:"Collection",id:n,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(n,"-viewerId:").concat(t),isFollowing:!0}}},update:function(e){e.modify({id:"User:".concat(t),fields:{missionControl:(0,g.im)("followedCollections",!0),followingCollectionConnection:(0,g.Hc)(n)}})}})}),[n])}(i.id,I),B=j(i.id,I),H=u.useCallback((function(n){S&&n.preventDefault(),null!=L&&L.isFollowing||(x.event("collection.followed",{collectionId:i.id,followSource:T}),k())}),[i,L,S,T]),$=u.useCallback((function(n){S&&n.preventDefault(),x.event("collection.unfollowed",{collectionId:i.id,followSource:T}),B()}),[S,T]),V=!(null==L||!L.isFollowing),Z=o?o(!!V):V?"OBVIOUS":"STRONG";return a?u.createElement(y.r,{onClick:V?$:H},u.createElement(b.x,{display:"flex",flexDirection:"row"},V?"Unfollow publication":"Follow publication")):u.createElement(p.I,null,(function(n){return n?u.createElement(P.z,{size:e,onClick:V?B:k,buttonStyle:Z,loading:N},V?"Following":"Follow"):u.createElement(m.R,{collection:i,buttonStyle:V?"OBVIOUS":"STRONG",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:U(E,i,l)||"",susiEntry:A,pageSource:(0,d.x)(z,"register")},V?"Following":"Follow")}))},U=function(n,t,e){return t.slug&&(e&&e.id?(0,A.TAb)(n,t.slug,e.id):(0,A.LlO)(n,t.slug))}},22680:(n,t,e)=>{"use strict";e.d(t,{j7:()=>d,OO:()=>f,iI:()=>p});var o=e(28655),r=e.n(o),i=e(92471),l=e(97217),a=e(15085),c=e(42498);function u(){var n=r()(["\n  fragment shortformPostMetaDescription_post on Post {\n    id\n    metaDescription\n    seoDescription\n    shortformType\n    title\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return u=function(){return n},n}function s(){var n=r()(["\n  fragment postMetaDescription_post on Post {\n    id\n    title\n    seoDescription\n    metaDescription\n    creator {\n      id\n      name\n    }\n    collection {\n      id\n      name\n    }\n    previewContent {\n      subtitle\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return s=function(){return n},n}var d=function(n){return function(n){var t=n.metaDescription,e=n.seoDescription,o=n.title||"";if(e)return e;if(t)return t;var r=function(n){var t=(0,a.r4)(n,250);return t&&(0,c.N8)(t,200)}(n);if(r.length>150)return r;var i=n.previewContent&&n.previewContent.subtitle||"";if(i.length>140)return i;i.length>0&&(i+=".");var l=(o.length?o+". ":"")+i;if(l.length>140)return l;var u="“".concat(o,"” is published");return n.creator&&n.creator.name&&(u+=" by ".concat(n.creator.name)),n.collection&&n.collection.name&&(u+=" in ".concat(n.collection.name)),"".concat(i," ").concat(u,".")}(n).trim()},f=function(n,t){var e=n.metaDescription,o=n.seoDescription,r=n.shortformType,i=r===l.po.SHORTFORM_TYPE_NOTE||!r;if(o)return o;if(e)return e;if(i&&t){var u=(0,a.r4)(n,350,0);return(0,c.N8)(u,300)}return""},p=(0,i.Ps)(s(),a.bh);(0,i.Ps)(u(),a.bh)},15085:(n,t,e)=>{"use strict";e.d(t,{r4:()=>E,bh:()=>I,yB:()=>x,lO:()=>R,Bg:()=>z,_t:()=>j,bq:()=>F,oS:()=>U,c_:()=>L});var o=e(59713),r=e.n(o),i=e(28655),l=e.n(i),a=e(92471),c=e(93022),u=e(61796),s=e(97217),d=e(44987),f=e(42498);function p(){var n=l()(["\n  fragment shouldIndexPost_post on Post {\n    id\n    firstPublishedAt\n    isLimitedState\n    isShortform\n    shortformType\n    visibility\n    curationStatus\n    creator {\n      name\n      atsQualifiedAt\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n    }\n    collection {\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n      creator {\n        atsQualifiedAt\n      }\n      ptsQualifiedAt\n    }\n    noIndex\n    isIndexable\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return p=function(){return n},n}function v(){var n=l()(["\n  fragment shortformPostTitle_post on Post {\n    id\n    title\n    seoTitle\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      ...maybeAppendProductName_collection\n    }\n  }\n  ","\n  ","\n  ","\n"]);return v=function(){return n},n}function m(){var n=l()(["\n  fragment getTitleForPost_post on Post {\n    id\n    title\n    ...postTitle_post\n    ...getTitleDetails_post\n  }\n  ","\n  ","\n"]);return m=function(){return n},n}function h(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,o)}return e}function g(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?h(Object(e),!0).forEach((function(t){r()(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function y(){var n=l()(["\n  fragment postTitle_post on Post {\n    id\n    title\n    seoTitle\n    firstPublishedAt\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      id\n      name\n      domain\n      ...maybeAppendProductName_collection\n    }\n    creator {\n      name\n    }\n    previewContent {\n      subtitle\n    }\n  }\n  ","\n  ","\n  ","\n"]);return y=function(){return n},n}function b(){var n=l()(["\n  fragment maybeAppendProductName_collection on Collection {\n    id\n    domain\n  }\n"]);return b=function(){return n},n}function P(){var n=l()(["\n  fragment getTitleDetails_post on Post {\n    id\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...GetTitleIndexMap_bodyModel\n      }\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n  ","\n"]);return P=function(){return n},n}function w(){var n=l()(["\n  fragment getPostContentAsString_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          text\n          type\n          mixtapeMetadata {\n            href\n          }\n        }\n      }\n    }\n  }\n"]);return w=function(){return n},n}function O(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,t){if(n){if("string"==typeof n)return _(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return l=n.done,n},e:function(n){a=!0,i=n},f:function(){try{l||null==e.return||e.return()}finally{if(a)throw i}}}}function _(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function C(){var n=l()(["\n  fragment appendPostContext_post on Post {\n    id\n    sequence {\n      title\n    }\n    collection {\n      name\n    }\n    creator {\n      name\n    }\n  }\n"]);return C=function(){return n},n}function A(n,t){var e,o,r;return null!==(e=t.sequence)&&void 0!==e&&e.title?n+=" - ".concat(t.sequence.title):null!==(o=t.collection)&&void 0!==o&&o.name?n+=" - ".concat(t.collection.name):null!==(r=t.creator)&&void 0!==r&&r.name&&(n+=" - ".concat(t.creator.name)),n}var S=(0,a.Ps)(C());function E(n){var t,e,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMixtapeHref:!1},a=l.includeMixtapeHref,c=(null===(t=n.content)||void 0===t||null===(e=t.bodyModel)||void 0===e?void 0:e.paragraphs)||[],u="",s=O(c);try{for(s.s();!(o=s.n()).done;){var d=o.value,f=d.mixtapeMetadata,p=d.text,v=d.type;if(a&&null!=f&&f.href?u+=u?" ".concat(f.href):f.href:"P"===v&&p&&p.length>i&&(u+=u?" ".concat(p):p),u.length>r)break}}catch(n){s.e(n)}finally{s.f()}return u}var I=(0,a.Ps)(w());function x(n){var t=!1,e="";if(n.content&&n.content.bodyModel&&n.content.bodyModel.paragraphs){var o=n.content.bodyModel.paragraphs,r=(0,u.LI)(o).titleIndex;"number"==typeof r&&(e=o[r].text||"",t=!0)}return{hasTitleGraf:t,latestTitle:e}}var T=(0,a.Ps)(P(),I,u.k);function D(n,t,e){return null!=e&&e.domain?n:"".concat(n," - ").concat(t)}var M=(0,a.Ps)(b());function R(n,t){var e,o,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=n.seoTitle,a=n.title||"",u=(null===(e=n.previewContent)||void 0===e?void 0:e.subtitle)||"";if(l)return(0,d.p)(l,n.collection&&n.collection.name,t);if(!i)return a.length>50?a:a=D(a=A(a,n),t,n.collection);a.length<33&&u&&(u=(0,f.N8)(u,40),a+=". ".concat(u)),null!==(o=n.creator)&&void 0!==o&&o.name&&(a+=" | by ".concat(n.creator.name));var s,p="",v=Date.now()-5184e6;(null!==(r=n.firstPublishedAt)&&void 0!==r?r:0)>=v&&(p=" | ".concat((0,c.Z)(null!==(s=n.firstPublishedAt)&&void 0!==s?s:0,"LLL, yyyy")));var m=n.collection;return m?m.domain?a+="".concat(p," | ").concat(m.name):a+=" | ".concat(m.name).concat(p," | ").concat(t):a+="".concat(p," | ").concat(t),a}var z=(0,a.Ps)(y(),I,S,M);function j(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x(n),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=n.title||"",i=e.latestTitle||r,l=g(g({},n),{},{title:i});return R(l,t,o).trim()}var F=(0,a.Ps)(m(),z,T);function U(n,t,e){var o=n.seoTitle,r=n.title||"";return o?(0,d.p)(o,n.collection&&n.collection.name,t):r=D(r=A(r=function(n,t,e){var o=t.shortformType,r=o===s.po.SHORTFORM_TYPE_NOTE||!o;return e||(r?n=E(t,250,0):o===s.po.SHORTFORM_TYPE_LINK&&(n=E(t,250,0,{includeMixtapeHref:!0}))),(0,f.N8)(n,200)}(r,n,e),n),t,n.collection)}function L(n){var t,e,o,r,i,l=n.noIndex,a=n.collection,c=n.curationStatus,u=n.firstPublishedAt,d=n.isLimitedState,f=n.isShortform,p=n.shortformType,v=n.visibility,m=n.isIndexable,h=p===s.po.SHORTFORM_TYPE_NOTE||!p;if(l)return{shouldIndexPost:!1,indexReason:"noIndex is set"};if(!u)return{shouldIndexPost:!1,indexReason:"draft"};if("PUBLIC"!==v&&"LOCKED"!==v)return{shouldIndexPost:!1,indexReason:"unlisted (PUBLIC | LOCKED)"};if(d)return{shouldIndexPost:!1,indexReason:"limited state"};if(f)if(h){if(E(n,10,0).length<=10)return{shouldIndexPost:!1,indexReason:"insufficient content <=10 chars"}}else if(0===E(n,10,0).length)return{shouldIndexPost:!1,indexReason:"shortform with no commentary"};if(m&&u<16347744e5)return{shouldIndexPost:!0,indexReason:"english, has spam score < 0.5 & published before 10/21/2021"};if((null!==(t=null===(e=n.creator)||void 0===e?void 0:e.atsQualifiedAt)&&void 0!==t?t:0)>0||a&&a.ptsQualifiedAt>0)return{shouldIndexPost:!0,indexReason:"author or pub is high-quality"};if(c&&(c===s.Xg.CURATION_STATUS_DISTRIBUTED||c===s.Xg.CURATION_STATUS_DISTRIBUTED_AND_DISABLED))return{shouldIndexPost:!0,indexReason:"curated post"};var g=["DELETED","FAILED","UNSPECIFIED"],y=null==a||null===(o=a.customDomainState)||void 0===o?void 0:o.live,b=null===(r=n.creator)||void 0===r||null===(i=r.customDomainState)||void 0===i?void 0:i.live;return y&&!y.isSubdomain&&!g.includes(y.status)||b&&!b.isSubdomain&&!g.includes(b.status)?{shouldIndexPost:!0,indexReason:"custom domain user or pub"}:{shouldIndexPost:!1,indexReason:"no matching rule"}}(0,a.Ps)(v(),I,S,M),(0,a.Ps)(p(),I)},44987:(n,t,e)=>{"use strict";e.d(t,{N:()=>o,p:()=>r});var o=function(n){return n||"Untitled story"},r=function(n,t,e){return t?"".concat(n," | ").concat(t):e?"".concat(n," | ").concat(e):n}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5063.a25c2ed4.chunk.js.map
(self.webpackChunklite=self.webpackChunklite||[]).push([[5531],{50589:(e,n,t)=>{"use strict";t.d(n,{J:()=>i});var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"useShouldShowGiveStaffPickAwardQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"awardByType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"STAFF_PICK"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"awardAvailability"}}]}}]}}]}}]}}]}},26964:(e,n,t)=>{"use strict";t.r(n),t.d(n,{MainContent:()=>za,useLoader:()=>Ha});var i=t(59713),a=t.n(i),o=t(64718),l=t(67294),r=t(5977),d=t(94986),s=t(28655),m=t.n(s),c=t(8575),u=t(92471),k=t(90833),p=t(62837),v=t(77280),g=t(43487),S=t(78870);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function h(){var e=m()(["\n  fragment PostCanonicalizer_post on Post {\n    mediumUrl\n  }\n"]);return h=function(){return e},e}(0,u.Ps)(h());var y=["blog.coinbase.com","moody-pub.medium.fail"],b=function(e){var n=e.post.mediumUrl,t=e.matchedPath,i=e.children,a=(0,g.v9)((function(e){return e.navigation.currentHash})),o=(0,v.Wd)("showDomainSetup"),r=(0,v.Wd)("postPublishedType"),d=(0,v.Wd)("responsesOpen"),s=(0,v.PM)(),m=(0,v.G1)(),u=(0,g.v9)((function(e){return e.navigation.host})),f=(0,S.mb)();if(!n||f)return i;var h=c.parse(decodeURIComponent(n)),b=N(N(N(N(N({},s?{source:s}:{}),m?{sk:m}:{}),r?{postPublishedType:r}:{}),o?{showDomainSetup:o}:{}),d?{responsesOpen:d}:{});return u!==h.host?y.indexOf(u)>-1?l.createElement(p.$,null):l.createElement(k.l,{to:(0,S.Rk)(n,b,a),replace:!0,isMediumApp:!0}):h.path&&t!==h.path?l.createElement(k.l,{to:(0,S.Rk)(h.path,b,a),replace:!0}):i},F=t(25735),E=t(25550),w=t(49608),x=function(e,n){return(0,g.v9)((function(t){var i;if(n&&t.meter[n])return null===(i=t.meter[n][e])||void 0===i?void 0:i.shouldShowDismissibleRegwall}))},P=t(319),_=t.n(P),I=t(42423),C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}}]}}]}}]}}]}}]}}].concat(_()(I.Pk.definitions))},D=function(){var e,n,t,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,g.v9)((function(e){return e.navigation.referrer})),d=null!==(e=(0,v.G1)())&&void 0!==e?e:void 0,s=null!==(n=(0,v.PM)())&&void 0!==n?n:void 0,m={referrer:r,sk:d,source:s},c=(0,E.r)(),u=c.viewerId,k=c.loading,p=(0,w.Q)(null!=u?u:""),S=x(a,u),f=(0,F.dd)("enable_dismissible_regwall"),N=f.loading,h=f.value,y=!l;N||!h||k||p||(y=!1!==S);var b=(0,o.a)(C,{variables:{postId:a,postMeteringOptions:m},ssr:!1,skip:!a||y}),P=b.loading,_=b.error,I=b.data,D=null==I||null===(t=I.post)||void 0===t||null===(i=t.viewerEdge)||void 0===i?void 0:i.fullContent;return P?{loading:P}:_?{error:_}:{content:D}},O=t(27517),T=t(21927),A=t(66411),R=t(75221),B=t(2808),L=t(95989),U=t(50458),M=t(6280),V=t(77355),j=t(96370),W=t(29746),H=function(e){var n=e.isDockingEnabled,t=void 0!==n&&n,i=e.undockedBackgroundColor,a=e.maxWidthSize,o=void 0===a?"inset":a,r=e.children,d=(0,M.$)(t),s=d.dockRef,m=d.markerRef,c=d.isStuck;return l.createElement(l.Fragment,null,l.createElement(V.x,{ref:m}),l.createElement(V.x,{tag:"footer",ref:s,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,W.a)(52),maxHeight:(0,W.a)(52),zIndex:"1",position:t?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:t?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:c?"BACKGROUND":i,borderTop:c?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE"},l.createElement(V.x,{flexGrow:"1"},l.createElement(j.P,{size:o},r))))},z=t(32931),G=t(20210),Y=t(3428),$=t(21232),Q=t(10654),q=t(51277),Z={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FloatingPostActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(_()(Q.x.definitions),_()(q.v.definitions))},K={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FloatingPostActionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloatingPostActions_post"}}]}}]}}].concat(_()(Z.definitions))},X=t(91743),J=function(e){var n,t,i=e.post,a=l.useContext($.f).openSidebar,r=(0,o.a)(K,{variables:{postId:i.id},ssr:!1}),d=r.data,s=r.loading,m=r.error;return s?null:(t=m||null==d||!d.post?i:d.post,l.createElement(z.j,{multiVoteButton:l.createElement(G.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,shouldShowResponsiveLabelText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S"}),responsesButton:l.createElement(Y.h,{svgSize:"S",responsesCountScale:"S",trackingData:{postId:t.id},responsesCount:(null===(n=t.postResponses)||void 0===n?void 0:n.count)||null,isLimitedState:t.isLimitedState,handleClick:a,countStylesOverride:{marginLeft:"4px"},allowResponses:!0}),menuActionsButton:l.createElement(X.t,{post:t,iconStyle:"ICON_SUBTLE"}),allowResponses:!!t.allowResponses}))},ee=t(8851),ne=t(31889),te=t(14804),ie=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,ae=function(e){var n,t,i=e.children,a=(0,ne.F)();return l.createElement(l.Fragment,null,l.createElement(V.x,{marginTop:"-240px",background:"linear-gradient(".concat((n=a.backgroundColor,t=n.match(ie),t?"rgba(".concat(t[1],", ").concat(t[2],", ").concat(t[3],", 0)"):(0,te.l9)(0)),", ").concat(a.backgroundColor,")"),height:"250px",position:"relative",width:"100%"}),l.createElement(V.x,{backgroundColor:"BACKGROUND"},l.createElement(V.x,{margin:"auto",maxWidth:"760px",sm:{margin:"0 24px 0"}},i)))},oe=t(6443),le=t(63038),re=t.n(le),de=t(32493),se=t(36405),me=t(93717),ce=t(18839),ue=t(18627),ke=t(80872);function pe(){var e=m()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return pe=function(){return e},e}var ve=(0,u.Ps)(pe()),ge=function(e){var n=e.actionUrl,t=e.children,i=e.onSuccess,a=e.token,o=e.userId,r=(0,ue.Av)(),d=!!(0,se.P5)("skip_sign_in_recaptcha"),s=l.useState(!1),m=re()(s,2),c=m[0],u=m[1],k=(0,g.v9)((function(e){return e.navigation.currentLocation})),p=function(){u(!1)},v=(0,A.pK)(),S=(0,A.hp)(),f=n&&a?(0,ce.hQ)(k,v,S,n,a):(0,ce.hQ)(k,v,S),N=(0,E.r)(),h=N.loading,y=N.error,b=N.viewerId;return h||y?null:l.createElement(de.m,{mutation:ve,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":r.event("site.loginLinkSent",{}),i&&i();break;case"FailedChallenge":r.event("site.loginByEmailCaptchaFailure",{}),u(!1);break;case"BadRequest":case"NotFound":default:p()}},onError:p},(function(e){var n=function(n){(0,ke.Zs)(!0,b,o,"Email",!1);var t="medium";r.event("susi.methodClicked",{entryPoint:S,operation:"login",susiMethod:t.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:t.toLowerCase(),alternateUserSuggestionTargetUserId:o,alternateUserSuggestionSourceUserId:b}),e({variables:{userId:o,redirect:f,captchaValue:n}})};return l.createElement(l.Fragment,null,!d&&l.createElement(me.k,{callback:n,shouldExecuteRecaptcha:c}),t({handleSubmit:function(){return d?n(null):u(!0)}}))}))},Se=t(69862),fe=t(73950),Ne=t(2959),he=t(40980),ye=function(e){var n=e.actionUrl,t=e.token,i=e.userSocialLogins,a={actionUrl:n||"",operation:"login",token:t||"",targetUserId:i.userId,alternateUserSuggestion:!0};return l.createElement(he.$,{eventData:{operation:a.operation}},i.google?l.createElement(fe.x,a):i.facebook?l.createElement(Se.q,a):i.twitter?l.createElement(Ne.G,a):l.createElement(l.Fragment,null))},be=t(93310),Fe=t(78285);function Ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}var we=function(e){var n=e.declineSuggestedAccount,t=e.isSocial,i=(0,g.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),o=(0,A.hp)(),r=(0,O.I0)(),d=(0,oe.H)(),s=d.loading,m=d.error,c=d.value;if(s||m)return l.createElement(l.Fragment,null);var u=function(e){return e?l.createElement(be.r,{onClick:function(){return k("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):l.createElement(l.Fragment,null,"Not you?"," ",l.createElement(be.r,{onClick:function(){return k("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",l.createElement(be.r,{onClick:function(){return k("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},k=function(e){var t="SIGNIN_OPTIONS"===e?"login":"register";n(),r((0,Fe.Pc)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ee(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({operation:t,step:e},!!o&&{susiEntry:o})))};return i?u(c):c?l.createElement(be.r,{onClick:function(){return n()}},"Not me"):u(t)},xe=t(75412);function Pe(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}function _e(){var e=m()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return _e=function(){return e},e}function Ie(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ie(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var De=function(e){var n=e.children,t=e.postRenderCallback,i=(0,ue.Av)(),a=(0,A.hp)(),o=(0,v.PM)(),r=(0,A.P7)(o||""),d=r.userId,s=r.name,m=l.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),c=re()(m,2),u=c[0],k=c[1];l.useEffect((function(){var e=u.shouldRun,n=u.showSuggestedAccount,i=u.userSocialLogins;e&&(null==t||t(p,n,i))}),[u.shouldRun]);var p=(0,oe.H)().value,g=(0,E.r)(),S=g.loading,f=g.error,N=g.viewerId;if(S||f)return null;var h=!("email"!==s||p&&p.mediumMemberAt||!d);return h&&d?l.createElement(xe.A,{query:Oe,variables:{userId:d}},(function(e){var o=e.loading,l=e.error,r=e.data,d=(r=void 0===r?{}:r).userSocialLogins,s=!(o||l||!d||p&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),m=Ce({loading:o,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=Pe(d);i.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==d?void 0:d.userId,alternateUserSuggestionSourceUserId:N})}});return!t||o||u.shouldRun||k({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),n(m)})):(t&&!u.shouldRun&&k(Ce(Ce({},u),{},{shouldRun:!0})),n({showSuggestedAccount:h,loading:!1}))},Oe=(0,u.Ps)(_e()),Te=t(43822),Ae=t(47230),Re=t(8126),Be=t(87691),Le=t(90924),Ue=t(17583);function Me(){var e=m()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      id\n      name\n      imageId\n    }\n  }\n"]);return Me=function(){return e},e}var Ve=function(e){var n=e.post,t=e.showTrialPaywall,i=e.authDomain,a=(0,oe.H)().value,o=n.creator&&n.creator.id,r=(0,ue.Av)(),d=(0,S.Rk)((0,U.c5p)(i),{subscribeToUserId:o||"",susiEntry:"post_paywall"}),s=null==a?void 0:a.hasPastMemberships,m=l.useCallback((function(){r.event("paywall.upgradeClicked",{postId:null==n?void 0:n.id,userId:null==a?void 0:a.id})}),[n,null==a?void 0:a.id]),c=t||s?"182px":"104px",u=t?"Start your free trial":s?"Resume membership":"Upgrade";return l.createElement(A.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},l.createElement(Le.M,null,l.createElement(V.x,{display:"inline-block",textAlign:"center"},l.createElement(Te.a,{isButton:!0,onClick:m,buttonStyle:t?"BRAND":"STRONG",width:c,redirectUrl:d},u))))},je=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=(0,O.I0)();return l.createElement(A.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},l.createElement(V.x,{display:"flex",sm:{flexDirection:"column"}},l.createElement(V.x,{display:"flex",flexDirection:"row",justifyContent:"center"},t.facebook||t.google||t.twitter?l.createElement(ye,{userSocialLogins:t}):l.createElement(ge,{onSuccess:function(){return i((0,Fe.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:t.userId},(function(e){var n=e.handleSubmit;return l.createElement(Ae.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")})))),n&&l.createElement(V.x,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},l.createElement(Be.F,{scale:"M"},l.createElement(we,{declineSuggestedAccount:n,isSocial:!!t&&!!(t.facebook||t.google||t.twitter)}))))},We=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=e.suggestedAccountEventData,a=e.showSuggestedAccount,o=e.postId;return l.createElement(A.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:o}},l.createElement(Le.M,{eventData:i},l.createElement(V.x,{display:"inline-block",textAlign:"center"},l.createElement(je,{declineSuggestedAccount:n,showSuggestedAccount:a,userSocialLogins:t}),l.createElement(V.x,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},l.createElement(Be.F,{scale:"L"},l.createElement(Te.a,{eventData:i,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},He=function(e){var n=e.post,t=e.excludePadding,i=void 0!==t&&t,a=(0,g.v9)((function(e){return e.config.authDomain})),o=(0,g.v9)((function(e){return e.config.productName})),r=(0,oe.H)().value,d=(0,E.r)().viewerId,s=(0,ue.Av)(),m=null==r?void 0:r.isMembershipTrialEligible,c=!(!(0,F.VB)({name:"enable_trial_upsell",placeholder:!1})||!m),u=(0,F.VB)({name:"enable_members_only_audio",placeholder:!1}),k=(0,Ue.s)(),p="xs"===k||"sm"===k;return l.useEffect((function(){m&&s.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[m]),l.useEffect((function(){s.event("paywall.viewed",{userId:null==r?void 0:r.id})}),[]),l.createElement(ae,null,l.createElement(De,null,(function(e){var t,s=e.loading,m=e.showSuggestedAccount,k=e.declineSuggestedAccount,v=e.userSocialLogins;return s?l.createElement(l.Fragment,null):(m&&(t={alternateUserSuggestionShown:m,alternateUserSuggestionAccountType:Pe(v),alternateUserSuggestionTargetUserId:!!v&&v.userId,alternateUserSuggestionSourceUserId:d}),l.createElement(l.Fragment,null,l.createElement(V.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},l.createElement(V.x,{display:"flex",flexDirection:"column",padding:i?"48px 0 0":"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},l.createElement(Re.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,n,t,i){var a=i.showSuggestedAccount,o=i.showTrialPaywall,r=n?function(e){if((e.match(/ /g)||[]).length>1)return"";var n=e.indexOf(" ");return e.substring(0,n)}(n):null;if(r=r&&r.length<=13?r:null,a)return"Switch to your member account for unlimited reading.";if(o)return l.createElement(V.x,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},r?"".concat(r,", keep reading."):"Keep reading.");var d=t?"".concat(r,", read more from ").concat(t," — and everyone else on ").concat(e,"."):"".concat(r,", here's how to read this story — and everything else on ").concat(e,"."),s=t?"How to read this story from ".concat(t," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,".");return l.createElement(V.x,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},r?d:s)}(o,r&&r.name,n.creator&&n.creator.name,{showSuggestedAccount:m,showTrialPaywall:c})),l.createElement(Be.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!m&&!c&&l.createElement(l.Fragment,null,l.createElement(V.x,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},u?"You’ve read all your free member-only stories. Become a member for\n                              unlimited access to every story on ".concat(o," and to support the\n                              voices you want to hear more from. As a member, you can also listen to\n                              stories anytime, anywhere."):"You’ve read all your free member-only stories, become a member to get unlimited access. Your membership fee supports the voices you want to hear more from."),l.createElement(V.x,{display:"flex",justifyContent:p?"center":void 0},l.createElement(Ve,{post:n,showTrialPaywall:c,authDomain:a}))),l.createElement(V.x,{marginTop:m?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,n,t,i){var a=t.showTrialPaywall;if(t.showSuggestedAccount&&n){var o=n.isMember,r=n.redactedEmailAddress;return l.createElement(l.Fragment,null,"Looks like you're coming from the ",o&&"member ","account"," ",l.createElement("b",null,r)," but you’re signed in as ",l.createElement("b",null,null==i?void 0:i.email),". Switch to your",o?" member account for unlimited access":" account",".")}return l.createElement(V.x,{textAlign:a?"center":"left"},a?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):"")}(o,v,{showSuggestedAccount:m,showTrialPaywall:c},r))),!!m&&v&&l.createElement(We,{declineSuggestedAccount:k,userSocialLogins:v,suggestedAccountEventData:t,showSuggestedAccount:m,postId:n.id}),c&&!m&&l.createElement(Ve,{post:n,showTrialPaywall:c,authDomain:a})))))})))},ze=((0,u.Ps)(Me()),t(33916)),Ge=t(26350),Ye=t(28451),$e=t(54935),Qe=t(32442),qe=t(9935),Ze="post_regwall",Ke=function(e){var n=e.enablePasswords,t=e.meterCount,i=e.postId,a={operation:"register"},o=(0,$e.j)().openModal;return l.createElement(V.x,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},l.createElement(V.x,{margin:"".concat(n?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},l.createElement(he.$,{eventData:{meterCount:t,operation:a.operation,postId:i}},l.createElement(fe.x,a))),l.createElement(V.x,{marginBottom:n?"32px":"52px",sm:{marginBottom:"40px"}},l.createElement(he.$,{eventData:{meterCount:t,operation:a.operation,postId:i}},n?l.createElement(Qe.R,{goToEmailAuthStep:function(){o({step:"ENTER_EMAIL",susiEntry:Ze,operation:"register"})},operation:"register"}):l.createElement(Se.q,a))))},Xe=function(e){var n=e.meteringInfo,t=e.post,i=e.onDismiss,a=(0,ue.Av)(),o=!!(0,se.P5)("enable_passwords"),r="LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource,d=(0,g.v9)((function(e){return e.config.productName})),s=null==n?void 0:n.postIds.length,m=(0,E.r)().viewerId,c=x(t.id,m);(0,l.useEffect)((function(){a.event("meter.viewed",{meterCount:s,postId:t.id,uiType:r?Ye.j.SyndicatedRegwall:Ye.j.RegWall})}),[]),(0,l.useEffect)((function(){if(s&&c)switch(s){case 1:a.event("dismissible.regwall1.viewed",{postId:t.id});break;case 2:a.event("dismissible.regwall2.viewed",{postId:t.id});break;case 3:a.event("dismissible.regwall3.viewed",{postId:t.id})}}),[s,c,t.id]);var u=(0,l.useCallback)((function(){i(),a.event("regwall.dismissed",{postId:t.id})}),[i,t.id]);return l.createElement(A.cW,{source:{postId:t.id,susiEntry:Ze}},l.createElement(ae,null,l.createElement(V.x,{display:"flex",textAlign:"center",justifyContent:"center",sm:{textAlign:"center"},flexDirection:"column"},c&&l.createElement(V.x,{display:"flex",justifyContent:"flex-end",position:"relative"},l.createElement(qe.P,{size:"LARGE",onClick:u})),l.createElement(V.x,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},l.createElement(Re.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},l.createElement(V.x,{display:"none",sm:{display:"block"}},c?"Sign up for ".concat(d):"To keep reading this story, get the free app or log in."),l.createElement(V.x,{display:"block",sm:{display:"none"}},c?"Sign up for ".concat(d):"Read the rest of this story with a free account.")),l.createElement(Be.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},c&&l.createElement(V.x,{paddingTop:"32px"},"With a free account you can discover more writing you'll love."),l.createElement(V.x,{display:"none",sm:{display:"block"}},l.createElement(V.x,{margin:"".concat(o?"40px":"42px"," 0")},l.createElement(ze.a,{isButton:!0,postId:t.id,appEntry:"regwall",copy:"Read in app"})),l.createElement(V.x,{marginBottom:"-20px"},"Or, continue in mobile web")),l.createElement(Ke,{meterCount:null==n?void 0:n.postIds.length,postId:t.id,enablePasswords:o}),"Already have an account?"," ",l.createElement(Ge.R,{linkStyle:"OBVIOUS",operation:"login",post:t,susiEntry:Ze},"Sign in"))))))},Je=t(61998),en=function(e){var n,t=e.post,i=e.meteringInfo,a=e.excludePadding,o=t.id,r=t.content.isLockedPreviewOnly,d=(0,ue.Av)(),s=(0,E.r)(),m=s.viewerId,c=s.loading,u=(0,O.I0)(),k=D(o,r).loading,p=(0,w.Q)(null!=m?m:""),v=!(null==i||null===(n=i.postIds)||void 0===n||!n.includes(t.id));(0,l.useEffect)((function(){!p&&v&&d.event("experiment.eligible",{experimentId:"18a77ab36d12"})}),[p,v]);var g=(0,l.useCallback)((function(){m&&((0,Je.S)(t.id,m),u((0,T.I)({postId:t.id,userId:m||"",shouldShow:!1})))}),[Je.S,t.id,u,T.I,m]);if(!k&&r&&i){if(p)return l.createElement(He,{post:t,excludePadding:a});if(!c)return l.createElement(Xe,{post:t,meteringInfo:i,onDismiss:g})}return null},nn=t(21919);function tn(){var e=m()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return tn=function(){return e},e}function an(){var e=m()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return an=function(){return e},e}(0,u.Ps)(an());var on=(0,u.Ps)(tn()),ln=t(99272),rn=t(70405),dn=t(82492),sn=t.n(dn),mn=t(68254),cn=t.n(mn),un=t(20512),kn=t(46696),pn=t(15085),vn=t(68216);function gn(){var e=m()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    isShortform\n    shortformType\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return gn=function(){return e},e}function Sn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function fn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sn(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Nn=(0,O.$j)((function(e){var n=e.config,t=n.productName,i=n.defaultImages,a=n.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:t,defaultImages:i,collectionStructuredData:a}}))((function(e){var n=e.currentLocation,t=e.host,i=e.post,a=e.postDescription,o=e.productName,r=e.defaultImages,d=e.collectionStructuredData,s=i.collection,m=i.creator,c=i.id,u=i.mediumUrl,k=i.isLocked,p=i.previewImage,v=i.firstPublishedAt,g=i.updatedAt,f=(0,pn._t)(i,o),N={id:r.postLogo.imageId,originalWidth:r.postLogo.width,originalHeight:r.postLogo.height},h={id:r.orgLogo.imageId,originalWidth:r.orgLogo.width,originalHeight:r.orgLogo.height},y=s?{"@type":"Organization",name:s.name,url:s.domain||(0,S.l1)(t,(0,U.WGd)(s,n)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,un.lc)(h);var n=(0,un.lc)(e.logo);return n&&60===n.height&&n.width<=600?n:(0,un.lc)(h)}(s)}:{"@type":"Organization",name:o,url:(0,S.l1)(t,"/"),logo:(0,un.lc)(h)};s&&d&&d[s.id]&&sn()(y,d[s.id].data);var b=p&&p.id?(0,un.Y4)(fn(fn({},p),{},{miroId:p.id,croppedWidth:1200})):(0,un.NJ)({url:(0,kn.W6)({miroId:N.id,width:N.originalWidth}),height:N.originalHeight,width:N.originalWidth}),F=a||"",E=k?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},w=fn({"@type":"NewsArticle",image:b,url:u,dateCreated:v&&new Date(v).toISOString(),datePublished:v&&new Date(v).toISOString(),dateModified:g&&new Date(g).toISOString(),headline:f,name:f,description:F,identifier:c,author:m&&m.name&&m.username?{"@type":"Person",name:m.name||m.username,url:(0,U.AWr)(m,t)}:null,creator:m&&[m.name],publisher:y,mainEntityOfPage:u},E),x=fn(fn({},{"@context":"http://schema.org"}),w);return l.createElement(rn.ql,null,l.createElement("script",{type:"application/ld+json"},cn()(x,{isJSON:!0})))})),hn=((0,u.Ps)(gn(),pn.bq,vn.$m),t(21372)),yn=t(22680);function bn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Fn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bn(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var En=(0,O.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var n,t,i,a=e.authDomain,o=e.productName,r=e.post,d=r.canonicalUrl,s=r.collection,m=r.creator,c=r.id,u=r.latestPublishedAt,k=r.mediumUrl,p=r.previewContent,v=r.socialTitle,g=r.socialDek,S=r.visibility,f=r.isShortform,N=m&&m.name,h=(0,pn.yB)(r),y=r.title||"",b=h.latestTitle||y;if(f){var F=Fn(Fn({},r),{},{title:b});t=(0,pn.oS)(F,o,h.hasTitleGraf).trim(),i=(0,yn.OO)(r,h.hasTitleGraf)}else t=(0,pn._t)(r,o,h,!0).trim(),i=(0,yn.j7)(r);var E,w,x=g||p&&p.subtitle||i;if(r&&r.previewImage&&r.previewImage.id&&!r.isLimitedState){var P=r.previewImage;E=(0,kn.vz)({miroId:P.id,aspectRatio:1.9,croppedWidth:P.originalWidth?Math.min(P.originalWidth,1200):1200,originalWidth:P.originalWidth,originalHeight:P.originalHeight,focusPercentX:P.focusPercentX,focusPercentY:P.focusPercentY})}else if(r.isLimitedState){var _={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};E=(0,kn.vz)({miroId:_.id,aspectRatio:1.9,croppedWidth:_.originalWidth?Math.min(_.originalWidth,1200):1200,originalWidth:_.originalWidth,originalHeight:_.originalHeight,focusPercentX:_.focusPercentX,focusPercentY:_.focusPercentY})}m&&m.username&&(w=(0,U.AWr)(m,a));var I=(0,U.CK_)(c),C=!(null!==(n=(0,pn.c_)(r))&&void 0!==n&&n.shouldIndexPost),D=u&&new Date(u).toISOString(),O=(0,hn.Vd)(r.readingTime||0),T=m&&m.twitterScreenName,A=s&&s.twitterUsername||"Medium",R=s&&s.facebookPageId,B=v||y||b;r.isLimitedState&&(B="");var L=r.isLimitedState?"":x,M=l.useMemo((function(){var e;return l.createElement(rn.ql,null,l.createElement("meta",{property:"og:type",content:"article"}),D&&l.createElement("meta",{property:"article:published_time",content:D}),l.createElement("title",null,t),l.createElement("meta",{name:"title",content:t}),l.createElement("meta",{property:"og:title",content:B}),l.createElement("meta",{property:"twitter:title",content:B}),R&&l.createElement("meta",{property:"fb:pages",content:R}),l.createElement("meta",{name:"twitter:site",content:"@".concat(A)}),l.createElement("meta",{name:"twitter:app:url:iphone",content:I}),l.createElement("meta",{property:"al:android:url",content:I}),l.createElement("meta",{property:"al:ios:url",content:I}),l.createElement("meta",{property:"al:android:app_name",content:"Medium"}),i&&l.createElement("meta",{name:"description",content:i}),x&&l.createElement("meta",{property:"og:description",content:L}),x&&l.createElement("meta",{property:"twitter:description",content:L}),l.createElement("meta",{property:"og:url",content:null!=k?k:void 0}),l.createElement("meta",{property:"al:web:url",content:null!=k?k:void 0}),E&&l.createElement("meta",{property:"og:image",content:E}),E&&l.createElement("meta",{name:"twitter:image:src",content:E}),l.createElement("meta",{name:"twitter:card",content:E?"summary_large_image":"summary"}),w&&l.createElement("meta",{property:"article:author",content:w}),w&&l.createElement("link",{rel:"author",href:w}),T&&l.createElement("meta",{name:"twitter:creator",content:"@".concat(T)}),N&&l.createElement("meta",{name:"author",content:N}),l.createElement("link",{rel:"canonical",href:null!==(e=d||k)&&void 0!==e?e:void 0}),l.createElement("link",{rel:"alternate",href:(0,U.zix)((0,U.o2w)("medium.com",r.id))}),l.createElement("meta",{name:"robots",content:"".concat(C?"noindex":"index",",follow,max-image-preview:large")}),l.createElement("meta",{name:"referrer",content:"UNLISTED"!==S?"unsafe-url":"origin"}),l.createElement("meta",{name:"twitter:label1",content:"Reading time"}),l.createElement("meta",{name:"twitter:data1",content:"".concat(O," min read")}))}),[t,d,k,E,c,v,i,w,N,T,I,C,D]);return l.createElement(l.Fragment,null,M,l.createElement(Nn,{post:r,postDescription:i}))})),wn=t(7834),xn=t(67927),Pn=t(30020),_n=t(14646),In=t(53690),Cn=t(78271),Dn=t(50344),On=t(8969),Tn=t(45957),An=function(e){return{fill:e.baseColor.fill.lighter}};function Rn(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(Ln(e,"title")," license by the author.")}}var Bn={PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}};function Ln(e,n){return Bn[e][n]}var Un=function(e){var n=e.license,t=(0,_n.I)();return n?l.createElement(V.x,null,l.createElement(V.x,{display:"inline-block",marginTop:{xs:"40px",sm:"40px",md:"40px",lg:"56px",xl:"56px"}},l.createElement(Be.F,{scale:"M"},l.createElement(Pn._,{tooltipText:Rn(n),maxWidth:300},l.createElement(be.r,{disableSourceParam:!0,href:Ln(n,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(n))))),l.createElement(V.x,{display:"inline-block"},l.createElement(Be.F,{scale:"M"},"CC_40_ZERO"===n&&l.createElement("span",null," by the author."),l.createElement("span",{className:t(An),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:l.createElement(Tn.Z,null),CC_40_BY:l.createElement(In.Z,null),CC_40_BY_ND:l.createElement(l.Fragment,null,l.createElement(In.Z,null),l.createElement(Dn.Z,null)),CC_40_BY_SA:l.createElement(l.Fragment,null,l.createElement(In.Z,null),l.createElement(On.Z,null)),CC_40_BY_NC:l.createElement(l.Fragment,null,l.createElement(In.Z,null),l.createElement(Cn.Z,null)),CC_40_BY_NC_ND:l.createElement(l.Fragment,null,l.createElement(In.Z,null),l.createElement(Cn.Z,null),l.createElement(Dn.Z,null)),CC_40_BY_NC_SA:l.createElement(l.Fragment,null,l.createElement(In.Z,null),l.createElement(Cn.Z,null),l.createElement(On.Z,null)),PUBLIC_DOMAIN:l.createElement(l.Fragment,null)}[e]}(n))))):null},Mn=t(25267);function Vn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function jn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vn(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Wn(){var e=m()(["\n  fragment ThanksTo_post on Post {\n    id\n    creator {\n      id\n    }\n    collaborators {\n      id\n      user {\n        id\n        name\n      }\n      state\n    }\n  }\n"]);return Wn=function(){return e},e}function Hn(){var e=m()(["\n  mutation setCollaboratorState($postId: ID!, $collaboratorId: ID!, $isVisible: Boolean!) {\n    setCollaboratorState(postId: $postId, collaboratorId: $collaboratorId, isVisible: $isVisible)\n  }\n"]);return Hn=function(){return e},e}var zn=(0,u.Ps)(Hn()),Gn=(0,u.Ps)(Wn()),Yn=function(e){var n=e.viewer,t=e.post,i=e.collaborator,a=i.user,o=t.creator;return a&&n&&o&&(n.id===o.id||n.id===a.id)?l.createElement(de.m,{mutation:zn,optimisticResponse:{setCollaboratorState:!0},update:function(e,n){var a,o=e.readFragment({id:"Post:".concat(t.id),fragment:Gn});e.writeFragment({id:"Post:".concat(t.id),fragment:Gn,data:jn(jn({},o),{},{collaborators:(null!==(a=null==o?void 0:o.collaborators)&&void 0!==a?a:[]).map((function(e){return e.id===i.id?jn(jn({},e),{},{state:"visible"===e.state?"hidden":"visible"}):e}))})})}},(function(e){return"hidden-collab"===i.state&&o.id===n.id?"(declined)":l.createElement(l.Fragment,null,"(",l.createElement(be.r,{onClick:function(n){e({variables:{postId:t.id,collaboratorId:a.id,isVisible:"visible"!==i.state}})}},"visible"===i.state?"hide":"show"),")")})):null},$n=function(e){var n=e.index,t=e.total;return n===t-1?"":t>=3?n===t-2?", and ":", ":" and "},Qn=function(e){var n=e.post,t=n.collaborators,i=n.creator;return i&&t&&0!==t.length?l.createElement(Mn.I,null,(function(e){return l.createElement(V.x,null,l.createElement(Be.F,{scale:"S",color:"DARKER"},"Thanks to"," ",t.map((function(a,o){var r=a.user;return r?l.createElement(l.Fragment,{key:a.id},r.name,function(e,n,t){return e&&(e.id===n.id||t&&e.id===t.id)}(e,i,r)&&l.createElement(l.Fragment,null," ",l.createElement(Yn,{viewer:e,post:n,collaborator:a})),l.createElement($n,{index:o,total:t.length})):null}))))})):null},qn=t(60672),Zn=t(67701);function Kn(){var e=m()(["\n  query TopicViewerEdge($topicId: ID!) {\n    topic(id: $topicId) {\n      ... on Topic {\n        id\n        viewerEdge {\n          id\n          isFollowing\n        }\n      }\n    }\n  }\n"]);return Kn=function(){return e},e}var Xn,Jn,et=(0,u.Ps)(Kn()),nt=t(75880),tt=t(87757),it=t.n(tt),at=t(48926),ot=t.n(at),lt=t(28959),rt="post-view",dt="post-read",st="topic-view",mt="medium-search",ct="external-search",ut=(Xn={},a()(Xn,rt,200),a()(Xn,dt,200),a()(Xn,st,200),a()(Xn,mt,200),a()(Xn,ct,200),Xn),kt=(Jn={},a()(Jn,rt,new lt.Z("pv")),a()(Jn,dt,new lt.Z("pr")),a()(Jn,st,new lt.Z("tv")),a()(Jn,mt,new lt.Z("ms")),a()(Jn,ct,new lt.Z("es")),Jn),pt=function(e,n,t){var i=kt[e];i.getCount()===ut[e]&&i.clean();try{i.set(n,t)}catch(e){i.clean()}},vt=t(62896),gt=function(){var e=ot()(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{St((function(n){e(n)}))}catch(e){n(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function St(e){var n="Unknown";function t(t){e({isPrivate:t,browserName:n})}function i(){void 0!==Promise?navigator.webkitTemporaryStorage.queryUsageAndQuota((function(e,n){var i;t(n<(void 0!==(i=window).performance&&void 0!==i.performance.memory&&void 0!==i.performance.memory.jsHeapSizeLimit?performance.memory.jsHeapSizeLimit:1073741824))}),(function(e){throw new Error("detectIncognito somehow failed to query storage quota: "+e.message)})):(0,window.webkitRequestFileSystem)(0,1,(function(){t(!1)}),(function(){t(!0)}))}!function(){var e=navigator.userAgent,a=navigator.vendor;try{if((0,vt.G6)(e))!function(){var e,i,a=window;if(void 0!==navigator.maxTouchPoints)if(void 0!==a.safari&&void 0===a.DeviceMotionEvent)n="Safari for macOS",function(){try{window.safari.pushNotification.requestPermission("https://example.com","private",{},(function(){}))}catch(e){return t(!new RegExp("gesture").test(e))}t(!1)}();else{if(void 0===a.DeviceMotionEvent)throw new Error("detectIncognito Could not identify this version of Safari");n="Safari for iOS",e=!1,(i=document.createElement("iframe")).style.display="none",document.body.appendChild(i),i&&i.contentWindow&&i.contentWindow.applicationCache.addEventListener("error",(function(){return e=!0,t(!0)})),setTimeout((function(){e||t(!1)}),100)}else!function(){var e=window.openDatabase,n=window.localStorage;try{e(null,null,null,null)}catch(e){return t(!0)}try{n.setItem("test","1"),n.removeItem("test")}catch(e){return t(!0)}t(!1)}()}();else if((0,vt.i7)(a))n=function(){var e=navigator.userAgent;return e.match(/Chrome/)?e.match(/Edg/)?"Edge":void 0!==navigator.brave?"Brave":void 0!==navigator.opr?"Opera":"Chrome":"Chromium"}(),i();else if((0,vt.vU)(e))n="Firefox",t(void 0===navigator.serviceWorker);else{if(void 0===navigator.msSaveBlob)throw new Error("detectIncognito cannot determine the browser");n="Internet Explorer",t(void 0===window.indexedDB)}}catch(e){return n="Unknown",t(!1)}}()}var ft=t(54878),Nt=t(98482),ht=t(84052),yt=t(97521),bt=t(66227),Ft=t(73917),Et=t(20113);function wt(){return(wt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var xt=l.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),Pt=l.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),_t=l.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),It=l.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const Ct=function(e){return l.createElement("svg",wt({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),xt,Pt,_t,It)};var Dt=(0,O.$j)()((function(e){var n=e.dispatch,t=e.isVisible,i=e.hide,a="limitedStateInterstitialDialogPopover";return l.createElement(yt.V,{isVisible:t,hide:i,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},l.createElement(V.x,{display:"flex",justifyContent:"center",paddingTop:"100px"},l.createElement(V.x,{height:"550px",width:"900px",background:te.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,te.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},l.createElement(V.x,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},l.createElement(V.x,{paddingBottom:"24px"},l.createElement(Ct,null)),l.createElement(V.x,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},l.createElement(Et.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),l.createElement(V.x,{padding:"0 0 24px 0"},l.createElement(Ae.z,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){i(),n((0,Fe.Dx)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),l.createElement(bt.B,null,(function(e){var n=e.isVisible,t=e.toggle,i=e.hide;return l.createElement(Ft.J,{ariaId:a,isVisible:n,hide:i,display:"block",customZIndex:800,popoverRenderFn:function(){return l.createElement(V.x,{padding:"15px 20px",width:"400px"},l.createElement(Be.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},l.createElement(V.x,{paddingTop:"10px"},l.createElement(be.r,{"aria-controls":a,"aria-expanded":n?"true":"false",onClick:t},l.createElement("u",null,l.createElement(Be.F,{scale:"S"},"Why am I seeing this?")))))})))),l.createElement(V.x,{display:"flex",justifyContent:"center"},l.createElement(Be.F,{scale:"M"},"View our"," ",l.createElement(be.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",l.createElement(be.r,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",l.createElement(be.r,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))}));function Ot(){var e=m()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return Ot=function(){return e},e}var Tt=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function At(e){var n=e.post,t=n.creator,i=n.isLimitedState,a=e.children,o=(0,oe.H)().value,r=null==o?void 0:o.id,d=(0,_n.I)(),s=l.useState(!1),m=re()(s,2),c=m[0],u=m[1];return l.useEffect((function(){u(!0)}),[]),i&&(t&&t.id)!==r?l.createElement(bt.B,{initialVisibility:!0},(function(e){var n=e.isVisible,t=e.hide;return l.createElement(l.Fragment,null,l.createElement("div",{className:d(Tt(n))},a),c&&l.createElement(Dt,{isVisible:n,hide:t}))})):a}(0,u.Ps)(Ot());var Rt=t(66018),Bt=t(73279),Lt=t(18733),Ut=t(33380),Mt=function(e){return{background:e.baseColor.background.light,borderTopColor:e.baseColor.border.lighter,borderBottomColor:e.baseColor.border.lighter,borderTopWidth:"1px",borderBottomWidth:"1px",borderBottomStyle:"solid",borderTopStyle:"solid"}},Vt=function(e){var n=e.children,t=e.onClose,i=e.customThemeRule,a=l.useRef(null),o=l.useContext(Ut.u6).updateWatchedBounds,r=(0,_n.I)();return l.createElement(bt.B,{initialVisibility:!0},(function(e){var d=e.isVisible,s=e.hide;return d&&l.createElement("div",{className:r(i||Mt)},l.createElement(j.P,null,l.createElement(V.x,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",paddingTop:"20px"},n,l.createElement(qe.P,{onClick:function(){t&&t(),o("byline",a,{type:"header"}),s()},isPositionAbsolute:!1,size:"REGULAR"}))))}))},jt=t(17193),Wt=t(93537),Ht=t(98223),zt="alternate_user_top_banner",Gt=function(e){var n=e.userSocialLogins,t=(0,$e.j)().openModal;return n.facebook||n.google||n.twitter?l.createElement(ye,{userSocialLogins:n}):l.createElement(ge,{onSuccess:function(){return t({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:zt})},userId:n.userId},(function(e){var n=e.handleSubmit;return l.createElement(Ae.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")}))},Yt=function(){var e=(0,oe.H)().value,n=(0,E.r)().viewerId,t=(0,O.I0)(),i=(0,ue.Av)(),a=l.useState(!1),o=re()(a,2),r=o[0],d=o[1],s=l.useState("loading"),m=re()(s,2),c=m[0],u=m[1];return l.useEffect((function(){t((0,Ht.e)(!0)),d(!0)}),[]),l.useEffect((function(){"rendered"===c&&t((0,Wt.T)(!0)),"not_eligible"===c&&t((0,Ht.e)(!1))}),[c]),l.createElement(A.cW,{source:{susiEntry:zt}},l.createElement(De,{postRenderCallback:function(e,t,a){u(t?"rendered":"not_eligible"),t&&(i.event("experiment.eligible",{experimentId:"358323e239a2"}),i.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:Pe(a),alternateUserSuggestionTargetUserId:a.userId,alternateUserSuggestionSourceUserId:n}))}},(function(t){var a,o,d=t.showSuggestedAccount,s=t.declineSuggestedAccount,m=t.userSocialLogins;return r&&d&&s&&m?l.createElement(Lt.N8,null,l.createElement(Vt,{onClose:function(){return i.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:Pe(m),alternateUserSuggestionTargetUserId:m.userId,alternateUserSuggestionSourceUserId:n})}},l.createElement(V.x,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},l.createElement(V.x,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(a=m.userAvatar)||void 0===a?void 0:a.imageId)&&l.createElement(V.x,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},l.createElement(jt.Yt,{scale:"S",user:{__typename:"User",id:m.userId,name:m.userAvatar.name,username:m.userAvatar.username,imageId:m.userAvatar.imageId,mediumMemberAt:null!==(o=m.userAvatar.mediumMemberAt)&&void 0!==o?o:0,customDomainState:null,hasSubdomain:!1}})),l.createElement(Be.F,{color:"DARKER",scale:"M"},function(e,n){var t=n.isMember,i=n.redactedEmailAddress;return l.createElement(l.Fragment,null,e?"Switch":"Sign in"," to your ",t?"member ":"","account (",l.createElement("b",null,i),") for",t?" unlimited access":" your personalized experience",".")}(e,m))),l.createElement(V.x,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},l.createElement(Gt,{userSocialLogins:m}),l.createElement(V.x,{margin:"0 12px",sm:{margin:"24px 0 0"}},l.createElement(we,{declineSuggestedAccount:s,isSocial:!!(m.facebook||m.google||m.twitter)})))))):l.createElement(l.Fragment,null)})))},$t=t(87498),Qt="signin_confirmation_banner",qt=function(){var e=(0,ue.Av)(),n=(0,$e.j)().openModal,t=l.useState(!1),i=re()(t,2),a=i[0],o=i[1],r=l.useState(!1),d=re()(r,2),s=d[0],m=d[1],c=l.useState(!0),u=re()(c,2),k=u[0],p=u[1],S=(0,oe.H)().value,f=(0,g.p9)((function(e){return e.session.xsrf})),N=(0,v.PM)(),h=(0,A.P7)(N||"").name;return l.useEffect((function(){return o(!0)}),[]),l.useEffect((function(){a&&S&&(e.event("experiment.eligible",{experimentId:"b4152480e71c"}),function(){var e=ot()(it().mark((function e(){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ke.vA)(null==S?void 0:S.id,f);case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),(0,ke.oy)(S.id,f))}),[a,S]),l.useEffect((function(){s&&e.event("signInConfirmationBanner.viewed",{})}),[s]),!a||!S||!h||"login"!==h||!S.createdAt||Date.now()-S.createdAt<=5*$t.uD||k?null:(s||m(!0),l.createElement(A.cW,{source:{susiEntry:Qt},extendSource:!0},l.createElement(Lt.N8,null,l.createElement(Vt,{onClose:function(){return e.event("signInConfirmationBanner.dismissed",{})}},l.createElement(V.x,{display:"flex",alignItems:"center"},l.createElement(V.x,{display:"none",marginRight:"20px",sm:{display:"flex"}},l.createElement(jt.Yt,{scale:"S",user:S})),l.createElement(Be.F,{color:"DARKER",scale:"M"},"Welcome back. You are signed"," ",S.mediumMemberAt?"into your member account ":"in as ",l.createElement("b",null,S.email),"."," ",l.createElement(be.r,{onClick:function(){e.event("signInConfirmationBanner.notYouClicked",{}),n({operation:"login",step:"SIGNIN_OPTIONS",susiEntry:Qt})},linkStyle:"OBVIOUS"},"Not you?")))))))},Zt=t(18634),Kt=t(68821),Xt=t(34135),Jt=t(84509);function ei(){var e=m()(["\n  fragment PostReadTracker_post on Post {\n    id\n    collection {\n      slug\n    }\n    sequence {\n      sequenceId\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n  }\n"]);return ei=function(){return e},e}(0,u.Ps)(ei());var ni=t(42440),ti=function(e){var n=e.backgroundColor,t=e.margin;return l.createElement(V.x,{textAlign:"center",margin:t,backgroundColor:n||"NONE",borderRadius:"4px"},l.createElement(j.P,{size:"full"},l.createElement(V.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},whiteSpace:{xs:"pre-line",sm:"pre-line",md:"normal",lg:"normal",xl:"normal"}},l.createElement(Be.F,{scale:"L",color:"DARKER"},"Love podcasts or audiobooks? Learn on the go with our new app.")),l.createElement(V.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},margin:{xs:"10px 0 0 0",sm:"10px 0 0 0",md:"0 0 0 12px",lg:"0 0 0 12px",xl:"0 0 0 12px"}},l.createElement(Ae.z,{href:"https://knowable.fyi?utm_source=medium&utm_medium=referral&utm_campaign=medium-post-footer",buttonStyle:"BRAND"},"Try Knowable"))))},ii=t(67154),ai=t.n(ii),oi={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},li=function(e){var n=e.children,t=(0,ne.F)(),i=(0,l.useState)(!1),a=re()(i,2),o=a[0],r=a[1],d=o?2:1,s=function(){window.innerWidth<=t.breakpoints.sm&&r(!0)};return(0,l.useEffect)((function(){return s(),Xt.V6.on("resize",s),function(){return Xt.V6.off("resize",s)}}),[]),l.createElement(Et.X6,{scale:oi,clamp:d},n)},ri=t(82405),di=t(6177),si=t(43220),mi=t(24330),ci=t(32317),ui=t(71293),ki=t(13454),pi=t(98096),vi=t(68894),gi=t(3207),Si=function(e){var n=e.buttonSize,t=e.targetUserId,i=(0,vi.O)(!1),a=re()(i,3),o=a[0],r=a[1],d=a[2],s=(0,ne.F)(),m=(0,Lt.Uo)().baseTheme,c=(0,gi.q3)(s,m),u=(0,oe.H)().value;return u?l.createElement(pi.f,{theme:c},l.createElement(ki.E,{targetUserId:t,viewerId:u&&u.id},(function(e){var t=e.mutate;return l.createElement(Ae.z,{buttonStyle:o?"SUBTLE":"ERROR",onClick:t,size:n||"REGULAR",onMouseEnter:r,onMouseLeave:d},o?"Unblock":"Blocked")}))):null},fi=t(8431);function Ni(){var e=m()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...UserSubscribeButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ni=function(){return e},e}var hi="follow_footer",yi=function(e){var n=e.post,t=e.maxWidthSize,i=void 0===t?"inset":t,a=n.creator,o=n.collection,r=(0,g.v9)((function(e){return e.config.authDomain})),d=(0,g.v9)((function(e){return e.navigation.currentLocation})),s=(0,oe.H)().value,m=(0,ne.F)(),c=(0,nt.Pd)(a).viewerEdge,u=l.useState(0),k=re()(u,2),p=k[0],v=k[1],S=p<=m.breakpoints.sm,f=function(){v(window.innerWidth)};l.useEffect((function(){return f(),Xt.V6.on("resize",f),function(){return Xt.V6.off("resize",f)}}),[]);var N="REGULAR",h=(null==s?void 0:s.id)===(null==a?void 0:a.id)||S?void 0:"168px",y={display:"flex",justifyContent:"space-between",alignItems:"center"},b=(0,si.KW)(n.creator),F=o?(0,U.WGd)(o,d,r):a?(0,U.AWr)(a,r):"",E="More from ".concat(o?o.name:null==a?void 0:a.name),w=o?o.description:null==a?void 0:a.bio,x=null;a&&(x=s&&null!=c&&c.isBlocking?l.createElement(Si,{buttonSize:N,targetUserId:a.id}):l.createElement(V.x,{display:"flex",marginLeft:"8px"},l.createElement(mi.N,{creator:a,followButtonSize:N,post:n,susiEntry:hi})));var P=o?l.createElement(ri.Fp,{buttonSize:N,collection:o,post:n,susiEntry:hi}):x;return l.createElement(V.x,{print:{display:"none"}},(null==a?void 0:a.name)&&(null==a?void 0:a.username)&&!b&&l.createElement(V.x,{paddingBottom:"30px"},l.createElement(j.P,{size:i},l.createElement(V.x,ai()({},y,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),l.createElement(V.x,null,l.createElement(fi.Lh,{scale:"S"},"Written by"),l.createElement(li,null,l.createElement(be.r,{href:(0,U.AWr)(a,r)},a.name||a.username))),x),a.bio&&l.createElement(V.x,{paddingTop:"6px",paddingRight:h},l.createElement(Be.F,{scale:"M"},a.bio)))),(o||b)&&l.createElement(V.x,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},l.createElement(j.P,{size:i},l.createElement(V.x,y,l.createElement(li,null,l.createElement(be.r,{href:F},E)),P),w&&l.createElement(V.x,{paddingTop:"5px",paddingRight:h},l.createElement(Be.F,{scale:"M"},w)))))};function bi(){var e=m()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return bi=function(){return e},e}(0,u.Ps)(Ni(),ri.Iq,ri.b3,vn.nf,ci.S$,ci.sj,si.C5,vn.$m,di.b,ui.w);var Fi=function(e){var n=e.collection,t=(0,g.v9)((function(e){return e.config.authDomain})),i=(0,g.v9)((function(e){return e.navigation.currentLocation}));return l.createElement(l.Fragment,null,(null==n?void 0:n.name)&&l.createElement(V.x,{maxWidth:"100%",textAlign:"center"},l.createElement(Ae.z,{buttonStyle:"STRONG",href:(0,U.WGd)(n,i,t)},"Read more from ",n.name)))},Ei=((0,u.Ps)(bi(),vn.nf),t(68356)),wi=t.n(Ei),xi=t(50742),Pi=wi()({loading:function(){return null},loader:function(){return Promise.all([t.e(4560),t.e(3193)]).then(t.bind(t,54894))},modules:["./PostNextFiveStories"],webpack:function(){return[54894]},render:(0,xi.n)("PostNextFiveStories")}),_i=function(e){var n=e.post,t=e.rootMargin,i=e.target,a=l.useState(!1),o=re()(a,2),r=o[0],d=o[1];return r?l.createElement(Pi,{post:n,target:i,rootMargin:t}):(Xt.V6.on("load",(function(){return d(!0)})),null)},Ii=t(54712),Ci=t(57189),Di=t(47459),Oi=t(43158),Ti=t(18305);function Ai(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ri(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ai(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ai(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Bi=function(e){var n=e.posts,t=e.sourceName,i=(0,ne.F)(),a=sn()({},Ri(Ri({},i),{grid:{columnWidth:i.grid.columnWidth,gutterSteps:{xs:6,sm:16,md:16,lg:16,xl:16},gutterWidth:i.grid.gutterWidth,marginSteps:{xs:6,sm:32,md:32,lg:32,xl:32},xStep:i.grid.xStep,xlMaxContentWidth:i.grid.xlMaxContentWidth,yStep:i.grid.yStep}}));return l.createElement(V.x,{playwrightClassName:"pw-more-medium-articles",tag:"section"},l.createElement(V.x,{paddingBottom:"26px"},l.createElement(li,null,"Recommended from Medium")),l.createElement(pi.f,{theme:a},l.createElement(Di.T,{alignItems:"flex-start"},n.map((function(e,n){return l.createElement(Oi.P,{key:e.id,size:{xs:12,sm:6,md:6,lg:6,xl:6}},l.createElement(A.cW,{source:{name:t,index:n}},l.createElement(Ti.o,{post:e,presentationContext:"POST_PREVIEW"},l.createElement(V.x,{paddingBottom:"8px"},l.createElement(Ci.N,{post:e,withFixedWidth:!1})))))})))))},Li=function(e){var n,t=e.post,i=e.sourceName,a=(null==t||null===(n=t.internalLinks)||void 0===n?void 0:n.items)||[];return a.length?l.createElement(Bi,{posts:a,sourceName:i}):null},Ui=function(e){var n,t,i,a,o,r,d,s=e.post,m=e.target,c=l.useRef(null),u=s.collection,k=s.responseRootPost,p=(t=(0,Ii.xg)(),i=(0,g.v9)((function(e){return e.client.hydrated})),a=(0,g.p9)((function(e){return e.session.isLoggedInCookie})),o=(0,oe.H)().value,r=a||!!o,d=(0,g.p9)((function(e){return e.session.isSpoofed})),!i&&t||!r&&!d);return l.createElement(V.x,{ref:c},l.createElement(V.x,{backgroundColor:"BASE_LIGHT",print:{display:"none"}},l.createElement(yi,{post:s,maxWidthSize:"app"}),l.createElement(V.x,{paddingTop:"25px"},l.createElement(_i,{post:s,target:m||c}),u?l.createElement(V.x,{paddingBottom:"96px",paddingTop:"40px"},l.createElement(Fi,{collection:u})):l.createElement(V.x,{paddingBottom:"96px",paddingTop:"40px",paddingLeft:"16px",paddingRight:"16px"},l.createElement(ti,null))),p&&!(null==k||null===(n=k.post)||void 0===n||!n.id)&&l.createElement(j.P,{size:"app"},l.createElement(V.x,{paddingTop:"40px",paddingBottom:"80px"},l.createElement(Li,{post:s,sourceName:"post_internal_links"})))))},Mi=t(29969),Vi=t(1951),ji=t(40922),Wi=function(e){var n=e.post,t=n.id,i=n.collection,a=n.creator,o=(0,ji._)(i),r=(0,Vi.g)(n);return i&&o?l.createElement(V.x,{marginTop:"24px",marginBottom:"40px"},l.createElement(Mi.X,{postId:t,publisher:i})):a&&r.value?l.createElement(V.x,{marginTop:"24px",marginBottom:"40px"},l.createElement(Mi.X,{postId:t,publisher:a})):null},Hi=t(45807),zi=t(22836),Gi=wi()({loading:function(){return null},loader:function(){return Promise.all([t.e(957),t.e(3158)]).then(t.bind(t,90748))},modules:["./PostGiveStaffPickAward"],webpack:function(){return[90748]},render:(0,xi.n)("PostGiveStaffPickAward")}),Yi=wi()({loading:function(){return null},loader:function(){return t.e(8934).then(t.bind(t,1641))},modules:["./PostStaffPickAwardHeader"],webpack:function(){return[1641]},render:(0,xi.n)("PostStaffPickAwardHeader")}),$i=t(50589),Qi=wi()({loading:function(){return null},loader:function(){return t.e(5313).then(t.bind(t,12785))},modules:["./PostGiveTipOnExternalPlatform"],webpack:function(){return[12785]},render:(0,xi.n)("PostGiveTipOnExternalPlatform")}),qi=function(e){var n,t,i,a,r,d,s=e.post,m=e.meteringInfo,c=l.useRef(null),u=s.isLocked,k=s.collection,p=s.creator,S=s.content.isLockedPreviewOnly,f=s.collaborators,N=s.visibility,h=k||p,y=(0,oe.H)().value,b=!!y,x=(k||{}).googleAnalyticsId,P=x?[x]:null;(0,ee.t)({ids:P}),(0,Kt.V)(c,s),function(e,n,t,i){var a=(0,ue.Av)(),o=(0,A.pK)(),r=(0,v.he)(),d=l.useState(!1),s=re()(d,2),m=s[0],c=s[1],u=(0,O.I0)();l.useEffect((function(){if(!m&&t){var l=function(){if(n.current&&!m){var l,d=(0,Jt.L6)(n.current),s=(0,Jt.tM)(d),k=s.top+s.height,p=(0,Jt.tM)((0,Jt.t_)()),v=p.top+p.height,g=t.content.isLockedPreviewOnly,S=i||o.includes("post_page");if(!g&&v>=k-100&&S){c(!0),u((0,Fe.C2)(!0));var f={source:i?"post_page":o,postId:t.id,collectionSlug:t.collection?t.collection.slug:"",sequenceId:t.sequence?t.sequence.sequenceId:""},N={referrer:r,referrerSource:o};i?a.event("post.clientRead",f,N):a.event("post.clientRead",f),e||(l=t.id,pt(dt,l,Date.now()))}}};return Xt.V6.on("scroll_end",l),function(){Xt.V6.off("scroll_end",l)}}}),[m,t,i]),l.useEffect((function(){return function(){u((0,Fe.C2)(!1))}}),[])}(b,c,s),function(e){var n=(0,oe.H)().value,t=(0,nn.D)(on,{variables:{postId:e.id}}),i=re()(t,2),a=i[0],o=i[1].called;l.useEffect((function(){e.isPublished||null==n||!n.id||o||a()}),[n])}(s),function(e){var n=e.post,t=e.clientViewedContext,i=void 0===t?1:t,a=e.overrideCommonData,r=void 0===a?{}:a;(function(e){var n,t,i=e.post,a=e.meteringInfo,l=(0,g.v9)((function(e){return e.config.authDomain})),r=null==i?void 0:i.id,d=(0,nt.Pd)(null==i?void 0:i.creator),s=d.viewerEdge,m=d.loading,c=(0,Zn.gY)(null==i?void 0:i.collection),u=c.viewerEdge,k=c.loading,p=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,o.a)(et,{variables:{topicId:n},ssr:!1,skip:!n}),i=t.loading,a=t.error,l=t.data;return i?{loading:i}:a?{error:a}:{viewerEdge:null==l||null===(e=l.topic)||void 0===e?void 0:e.viewerEdge}}(null==i||null===(n=i.primaryTopic)||void 0===n?void 0:n.id),v=p.viewerEdge,S=p.loading,f=k||m||S;(0,qn.e)({data:{canonicalUrl:r&&null!=i&&null!==(t=i.collection)&&void 0!==t&&t.domain?(0,U.o2w)(l,r):void 0,creatorViewerEdge:s,collectionViewerEdge:u,meteringInfo:a,post:i||void 0,topicViewerEdge:v},loading:!r||f||!(null!=i&&i.isPublished),show:!0})})({post:n,meteringInfo:e.meteringInfo}),function(e){var n=e.post,t=e.clientViewedContext,i=e.overrideCommonData,a=void 0===i?{}:i,o=(0,ue.Av)(),r=(0,E.r)(),d=r.loading,s=r.viewerId,m=(0,g.v9)((function(e){return e.client.viewerIsBot})),c=s&&(0,w.Q)(s),u=(null==n?void 0:n.collection)||{},k=u.id,p=u.slug,v=((null==n?void 0:n.content)||{}).validatedShareKey,S=null==n?void 0:n.id,f=l.useState(!1),N=re()(f,2),h=N[0],y=N[1],b=l.useState(null),F=re()(b,2),x=F[0],P=F[1],_=l.useCallback(ot()(it().mark((function e(){var n,t,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt();case 2:t=e.sent,i=null!==(n="Unknown"===t.browserName||t.isPrivate)&&void 0!==n?n:null,y(!0),P(i);case 6:case"end":return e.stop()}}),e)}))),[]);l.useEffect((function(){if(!d&&S&&s&&h){if(null!=n&&n.isPublished){c||(n.isLocked?(0,ke.yB)():(0,ke.B8)());var e=(0,pn.c_)(n),i=e.shouldIndexPost,l=e.indexReason;m&&o.event("post.clientBotCrawled",{postId:S,userId:s,userAgent:navigator.userAgent,lastCrawledAt:Date.now(),isIndexable:i,indexReason:l}),o.event("post.clientViewed",{postId:S,collectionId:k,collectionSlug:p,context:t,isFriendLink:!!v,source:"post_page",isIncognitoMode:x},a)}else o.event("post.draftViewed",{postId:S});c||function(e){pt(rt,e,Date.now())}(S)}else h||_()}),[S,s,d,x,_])}({post:n,clientViewedContext:i,overrideCommonData:r})}({post:s,meteringInfo:m});var _=u?{className:"meteredContent"}:{},I="UNLISTED"===N,C=f&&f.length>0,D=(null===(n=s.creator)||void 0===n?void 0:n.name)||(null===(t=s.creator)||void 0===t?void 0:t.username)||"the author",T=null===(i=s.creator)||void 0===i?void 0:i.id,B=!(null==y||!y.id)&&(null==y?void 0:y.id)===T,L=function(e){var n,t=e.postId,i=e.isViewerPostCreator,a=e.isLoggedIn,r=(0,o.a)($i.J,{variables:{postId:t},ssr:!1,skip:!t||!a||i}),d=r.data,s=r.loading,m=null==d||null===(n=d.post)||void 0===n?void 0:n.viewerEdge,c=!(null==m||!m.awardAvailability.includes(R.w2.STAFF_PICK)),u=!(null==m||!m.awardByType);return{showGiveStaffPickAward:l.useMemo((function(){return!s&&!!m&&(u||c)}),[m,s]),viewerHasAwarded:u,showGiveStaffPickAwardLoading:s}}({postId:s.id,isViewerPostCreator:B,isLoggedIn:b}),M=L.showGiveStaffPickAward,W=L.viewerHasAwarded,z=L.showGiveStaffPickAwardLoading,G=l.useMemo((function(){return!z&&!M&&!S&&h}),[z,M,S,h]),Y=s.countToShowAwardBadge.totalCount>0,$=(0,F.VB)({name:"can_send_tips_v0",placeholder:!1})&&!!T;return l.createElement(V.x,null,l.createElement(Nt.k,{post:s},l.createElement(En,{post:s}),l.createElement(Yt,null),l.createElement(qt,null),l.createElement(Rt.Lv,{post:s,user:p,forceLoad:(null==y?void 0:y.id)===(null==p?void 0:p.id)}),k&&l.createElement(zi.l,{collection:k}),l.createElement(V.x,{marginBottom:{xs:"80px",sm:"80px",md:"40px",lg:"40px",xl:"40px"}},l.createElement(j.P,{size:"app"},l.createElement("article",_,l.createElement(V.x,null,l.createElement(ln.m,{post:s,meteringInfo:m}),l.createElement(At,{post:s},l.createElement(V.x,null,p&&s&&l.createElement(Hi.O,{creator:p,post:s,postBodyRef:c,isLockedPreviewOnly:!!s.content.isLockedPreviewOnly,showInResponseToEntityPreview:!0,showStar:!!s.isLocked,viewerId:null==y?void 0:y.id,playwrightClassName:"pw-post-byline-header"}),Y&&l.createElement(Yi,{postId:s.id}),l.createElement(wn.b,{isAuroraPostPageEnabled:!0,post:s,ref:c,richTextStyle:"INLINE"}),s.license&&"ALL_RIGHTS_RESERVED"!==s.license&&l.createElement(Un,{license:s.license}))))),l.createElement(en,{post:s,meteringInfo:m,excludePadding:!0}),l.createElement(V.x,{padding:I||C?"40px 0 10px":"16px 0 0",display:"flex"},I&&l.createElement(Be.F,{scale:"S",color:"DARKER"},l.createElement(ni.Z,null)," Unlisted"),I&&C&&l.createElement(V.x,{padding:"0 8px"},l.createElement(Bt.O,null)),C&&l.createElement(Qn,{post:s}))),l.createElement(J,{post:s}),l.createElement(H,{isDockingEnabled:!1,undockedBackgroundColor:"BACKGROUND",maxWidthSize:"app"},l.createElement(xn.F,{post:s,useSocialPopover:!0,shouldHideClapsText:!0}))),$&&l.createElement(Qi,{creatorName:D,creatorId:T,postId:s.id}),G&&l.createElement(j.P,{size:"app"},l.createElement(Wi,{post:s})),M&&l.createElement(Gi,{creator:{imageId:null===(a=s.creator)||void 0===a?void 0:a.imageId,name:(null===(r=s.creator)||void 0===r?void 0:r.name)||(null===(d=s.creator)||void 0===d?void 0:d.username)||"the author"},postId:s.id,viewer:{imageId:null==y?void 0:y.imageId,name:(null==y?void 0:y.name)||(null==y?void 0:y.username)||"you",id:null==y?void 0:y.id},viewerHasAwarded:W}),l.createElement(ft.G8,{customStyleSheet:s.customStyleSheet},l.createElement(Ui,{post:s,target:c}))),!b&&l.createElement(Zt.y,{xs:!0,sm:!0,md:!0,lg:!0},l.createElement(ht.Q,null)))},Zi=t(27628),Ki=t(84683),Xi=t(81712),Ji={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCollectionHeader_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(_()(Ki.d.definitions),_()(Xi.f.definitions))},ea=t(49304),na=t(55193),ta=t(66862),ia=t(19621),aa=t(75990),oa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterPromo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowCollectionNewsletterV3Promo_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"}}]}}]}}].concat(_()(ia.kD.definitions),_()(aa.P.definitions),_()(ia.WZ.definitions),_()(di.b.definitions))},la=t(70762),ra=t(95538),da=t(12182),sa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReplies_post"}}]}}].concat(_()(da.e9.definitions))},ma={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"}}]}}].concat(_()(sa.definitions))},ca={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"}}]}}].concat(_()(ma.definitions))},ua=t(95204),ka=t(28096),pa=t(41190),va=t(4088),ga=[{kind:"FragmentDefinition",name:{kind:"Name",value:"getPostContentAsString_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"mixtapeMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}}]}}]}}]}}]}}]}}],Sa=[{kind:"FragmentDefinition",name:{kind:"Name",value:"appendPostContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}],fa=[{kind:"FragmentDefinition",name:{kind:"Name",value:"maybeAppendProductName_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}}],Na={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"postTitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"appendPostContext_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"FragmentSpread",name:{kind:"Name",value:"maybeAppendProductName_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}}]}}].concat(_()(ga),_()(Sa),_()(fa))},ha={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getTitleDetails_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GetTitleIndexMap_bodyModel"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(_()([{kind:"FragmentDefinition",name:{kind:"Name",value:"GetTitleIndexMap_bodyModel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]),_()(ga))},ya={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getTitleForPost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}}]}}].concat(_()(Na.definitions),_()(ha.definitions))},ba={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shortformPostTitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"appendPostContext_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"maybeAppendProductName_collection"}}]}}]}}].concat(_()(ga),_()(Sa),_()(fa))},Fa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shouldIndexPost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"atsQualifiedAt"}},{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"isSubdomain"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"isSubdomain"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"atsQualifiedAt"}}]}},{kind:"Field",name:{kind:"Name",value:"ptsQualifiedAt"}}]}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"isIndexable"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(_()(ga))},Ea={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"logo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(_()(vn.$m.definitions),_()(ya.definitions))},wa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"postMetaDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoDescription"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(_()(ga))},xa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shortformPostMetaDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"seoDescription"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(_()(ga))},Pa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostMetadata_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"socialTitle"}},{kind:"Field",name:{kind:"Name",value:"socialDek"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"twitterScreenName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twitterUsername"}},{kind:"Field",name:{kind:"Name",value:"facebookPageId"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldIndexPost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(_()(vn.$m.definitions),_()(Ea.definitions),_()(wa.definitions),_()(xa.definitions),_()(Fa.definitions),_()(ba.definitions),_()(ha.definitions),_()(ya.definitions))},_a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterCollectionButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(_()(vn.nf.definitions))},Ia=t(78693),Ca=t(93647),Da=t(71069),Oa=t(19308),Ta={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterBylineAurora_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserSubscribeButton_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"}}]}}].concat(_()(Ia.s.definitions),_()(Ca.C.definitions),_()(vn.$m.definitions),_()(Da.w.definitions),_()(Oa.Iq.definitions),_()(vn.nf.definitions),_()(Ia.S.definitions),_()(Oa.b3.definitions),_()(di.b.definitions))},Aa=t(15013),Ra=t(9273),Ba={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LORecirc_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPresentationTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadNextPostCard_post"}}]}}].concat(_()(Aa.h.definitions),_()(Ra.Q.definitions))},La={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InternalLinks_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"internalLinks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"8"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LORecirc_post"}}]}}]}}]}}]}}].concat(_()(Ba.definitions))},Ua={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Footer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterCollectionButton_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"responseRootPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterBylineAurora_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNextFiveStories_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InternalLinks_post"}}]}}].concat(_()(_a.definitions),_()(Ta.definitions),_()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNextFiveStories_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]),_()(La.definitions))},Ma={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPageQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"awardType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AwardType"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"googleAnalyticsId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCollectionHeader_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherHeader_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherHeader_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_user"}}]}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CustomThemeProvider_customStyleSheet"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"collaborators"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterPromo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithResponsesSidebar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCanonicalizer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterActionsBar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildBranchViewData_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostMetadata_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Footer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThanksTo_post"}},{kind:"Field",alias:{kind:"Name",value:"countToShowAwardBadge"},name:{kind:"Name",value:"awards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"awardType"}}},{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}].concat(_()(Zi.i.definitions),_()(Ji.definitions),_()(ea.L.definitions),_()(na.v.definitions),_()(ta.K.definitions),_()(oa.definitions),_()(la.r.definitions),_()(ra.U.definitions),_()(ca.definitions),_()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCanonicalizer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}}]}}]),_()(ua.R.definitions),_()(ka.Z.definitions),_()(pa.C.definitions),_()(va.u.definitions),_()([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildBranchViewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),_()(Pa.definitions),_()(na.Q.definitions),_()(Ua.definitions),_()(q.v.definitions),_()([{kind:"FragmentDefinition",name:{kind:"Name",value:"ThanksTo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collaborators"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"state"}}]}}]}}]))},Va={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPageMeterQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"meterPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}},{kind:"Field",name:{kind:"Name",value:"unlocksRemaining"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostHeader_meteringInfo"}}]}}]}}]}}].concat(_()(la.Y.definitions),_()(ka.X.definitions))};function ja(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Wa(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ja(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ja(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ha=function(e){var n,t,i,a,r,d,s,m={referrer:(0,g.v9)((function(e){return e.navigation.referrer})),sk:(0,v.G1)(),source:(0,v.PM)()},c=(0,U.mrd)({params:e})||"",u=(0,o.a)(Va,{variables:{postId:c,postMeteringOptions:m},ssr:!1}),k=function(e,n){var t=(0,E.r)().viewerId,i=(0,w.Q)(null!=t?t:""),a=x(e,t),o=(0,F.dd)("enable_dismissible_regwall"),r=o.loading,d=o.value,s=(0,O.I0)(),m=t&&!i&&!r&&d&&n;return(0,l.useEffect)((function(){m&&void 0===a&&s((0,T.I)({postId:e,userId:t,shouldShow:!0}))}),[e,m,a]),!!m}(c,!(null===(n=u.data)||void 0===n||null===(t=n.meterPost)||void 0===t||null===(i=t.postIds)||void 0===i||!i.includes(c))),p=(0,o.a)(Ma,{variables:{postId:c,postMeteringOptions:{forceTruncation:!1},awardType:R.w2.STAFF_PICK},ssr:!1,fetchPolicy:"cache-only"}),S="Post"===(null===(a=p.data)||void 0===a||null===(r=a.postResult)||void 0===r?void 0:r.__typename)&&p.data.postResult.content.isLockedPreviewOnly,f=!!k&&!S,N=(0,o.a)(Ma,{variables:{postId:c,postMeteringOptions:{forceTruncation:f},awardType:R.w2.STAFF_PICK},skip:!c}),h=null===(d=N.data)||void 0===d?void 0:d.postResult,y="Post"===(null==h?void 0:h.__typename)&&!(null==h||null===(s=h.content)||void 0===s||!s.isLockedPreviewOnly),b=D(c,y),P=b.content,_=h&&P?Wa(Wa({},h),{},{content:P}):h;return l.useMemo((function(){return{loading:N.loading||u.loading||!!b.loading,postQueryResult:N,postResult:_,postMeterQueryResult:u}}),[N,u,_,b])},za=l.memo((function(e){var n,t=e.postQueryResult,i=e.postResult,a=e.postMeterQueryResult,o=e.params,s=(0,U.mrd)({params:o})||"",m=t.loading,c=t.error,u=null===(n=a.data)||void 0===n?void 0:n.meterPost,k=(0,r.TH)(),v=l.useMemo((function(){return{name:"post_page",postId:s}}),[s]);return s?m?l.createElement(L.h,null):c?l.createElement(B.C,{error:c,showMetabar:!1}):(0,d.rK)(i)?l.createElement(d.Ij,{postResult:i,showMetabar:!1}):l.createElement(b,{post:i,matchedPath:k.pathname,key:s},l.createElement(A.cW,{source:v},l.createElement(qi,{post:i,meteringInfo:u}))):l.createElement(p.$,{showMetabar:!1})}))},60672:(e,n,t)=>{"use strict";t.d(n,{e:()=>u});var i=t(67294),a=t(27517),o=t(18702),l=t(25550),r=t(6443),d=t(98067),s=t(77280),m=t(43487),c=t(55765),u=function(e){var n=e.data,t=void 0===n?{}:n,u=e.isBlocked,k=void 0!==u&&u,p=e.loading,v=e.show,g=t.canonicalUrl,S=t.collectionViewerEdge,f=t.creatorViewerEdge,N=t.meteringInfo,h=t.pageType,y=t.post,b=t.profileName,F=t.profilePhoto,E=t.profileUsername,w=t.topicViewerEdge,x=(0,a.I0)(),P=(0,l.r)(),_=P.loading,I=P.viewerId,C=(0,c.P)(),D=C.loading,O=C.inAppBrowser,T=(0,r.H)(),A=T.loading,R=T.value,B=(0,m.v9)((function(e){return e.navigation.referrer})),L=(0,s.PM)();(0,i.useEffect)((function(){if(!(p||A||_||!I||D)){var e=(0,o.RD)({collectionViewerEdge:S,creatorViewerEdge:f,currentUserId:I,inAppBrowser:O,meteringInfo:N,page_type:h,post:y,profile_name:b,profile_photo:F,profile_username:E,referrer:B,referrerSource:L,viewer:R,topicViewerEdge:w});return g&&(e.data.$canonical_url=g),(0,o.Pu)(e),x((0,d.aj)(e)),v&&(x((0,d.QZ)()),x((0,d.Dl)(k))),function(){x((0,d.Uo)())}}}),[p,A,_,I,D])}},57831:(e,n,t)=>{"use strict";t.d(n,{h:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowersCount_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"subscriberCount"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"socialStats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}},19308:(e,n,t)=>{"use strict";t.d(n,{b3:()=>r,Iq:()=>d});var i=t(319),a=t.n(i),o=t(68216),l=t(98007),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_collection"}}]}}].concat(a()(o.nf.definitions),a()(l.Os.definitions))}},6177:(e,n,t)=>{"use strict";t.d(n,{F:()=>a,b:()=>o});var i=t(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}]}}].concat(t.n(i)()(a.definitions))}},1951:(e,n,t)=>{"use strict";t.d(n,{g:()=>l,t:()=>r});var i=t(67294),a=t(9354),o=t(75880),l=function(e){var n=e.creator,t=r(n);return n?t:{value:!1}},r=function(e){var n,t,l,r=(0,o.Pd)(e),d=r.viewerEdge,s=r.loading,m=i.useRef(null),c=(0,a.T)({newsletterSlug:null==e||null===(n=e.newsletterV3)||void 0===n?void 0:n.slug,username:null==e?void 0:e.username}),u=c.viewerEdge,k=c.loading;return(l=null!==m.current?{value:m.current}:s||k?{loading:!0}:null!=e&&null!==(t=e.newsletterV3)&&void 0!==t&&t.showPromo?{value:!(!(null!=d&&d.isUser||null==u)&&u.isSubscribed)}:{value:!1}).loading||void 0===l.value||null!==m.current||(m.current=l.value),l}},75990:(e,n,t)=>{"use strict";t.d(n,{P:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowCollectionNewsletterV3Promo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}}]}}]}}]}},40922:(e,n,t)=>{"use strict";t.d(n,{_:()=>o});var i=t(67701),a=t(9354),o=function(e){var n=(e||{}).newsletterV3,t=(0,i.gY)(e),o=t.viewerEdge,l=t.loading,r=(0,a.T)({newsletterSlug:null==n?void 0:n.slug,collectionSlug:null==e?void 0:e.slug}),d=r.viewerEdge,s=r.loading;return!(null==n||!n.showPromo||l||s||!(null!=o&&o.isEditor||null==d)&&d.isSubscribed)}},31579:(e,n,t)=>{"use strict";t.d(n,{DI:()=>o,nj:()=>l});var i=t(319),a=t.n(i),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useNewsletterV3Subscription_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useNewsletterV3Subscription_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useNewsletterV3Subscription_newsletterV3"}}]}}]}}].concat(a()(o.definitions))};[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"fetchOrLazilyCreateNewsletterV3AndMaybeSubscribe"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fetchOrLazilyCreateNewsletterV3AndMaybeSubscribe"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useNewsletterV3Subscription_newsletterV3"}}]}}]}}].concat(a()(o.definitions))},14337:(e,n,t)=>{"use strict";t.d(n,{v:()=>r});var i=t(319),a=t.n(i),o=t(84683),l=t(27048),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherAvatar_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}]}}].concat(a()(o.d.definitions),a()(l.W.definitions))}},66862:(e,n,t)=>{"use strict";t.d(n,{P:()=>l,K:()=>r});var i=t(319),a=t.n(i),o=t(95472),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CustomThemeProvider_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorPalette"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"customDefaultBackgroundTheme_colorPalette"}}]}}]}}]}}].concat(a()(o.L9.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CustomThemeProvider_customStyleSheet"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CustomStyleSheet"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"customDefaultBackgroundTheme_customStyleSheet"}},{kind:"FragmentSpread",name:{kind:"Name",value:"customStyleSheetFontTheme_customStyleSheet"}}]}}].concat(a()(o.Ui.definitions),a()(o.VE.definitions))}},31289:(e,n,t)=>{"use strict";t.d(n,{G:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},9273:(e,n,t)=>{"use strict";t.d(n,{Q:()=>m});var i=t(319),a=t.n(i),o=t(27048),l=t(68216),r=t(54341),d=t(4088),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadNextPostCard_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}}]}}].concat(a()(o.W.definitions),a()(l.$m.definitions),a()(r.O.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadNextPostCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReadNextPostCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(a()(s.definitions),a()(l.nf.definitions),a()(d.u.definitions))}},98482:(e,n,t)=>{"use strict";t.d(n,{k:()=>T});var i=t(63038),a=t.n(i),o=t(67294),l=t(6722),r=t(43242),d=t(80745),s=t(28655),m=t.n(s),c=t(87757),u=t.n(c),k=t(6479),p=t.n(k),v=t(48926),g=t.n(v),S=t(38460),f=t(92471),N=t(68356),h=t.n(N),y=t(35469);function b(){var e=m()(["\n  fragment ThreadedResponsesSidebarContent_post on Post {\n    id\n    postResponses {\n      count\n    }\n    collection {\n      id\n      viewerEdge {\n        id\n        isEditor\n      }\n    }\n    creator {\n      id\n    }\n    ...ThreadedReplies_post\n  }\n  ","\n"]);return b=function(){return e},e}var F=(0,f.Ps)(b(),y.e),E=t(76412),w=t(18733),x=t(66411),P=t(50742),_=t(97217),I=t(86742);function C(){var e=m()(["\n  fragment ThreadedResponsesSidebar_post on Post {\n    id\n    ...ThreadedResponsesSidebarContent_post\n  }\n  ","\n"]);return C=function(){return e},e}var D=h()({loading:function(){return null},loader:function(){return Promise.all([t.e(4792),t.e(7084),t.e(8537),t.e(3551),t.e(8121),t.e(8720),t.e(8913)]).then(t.bind(t,41469))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[41469]},render:(0,P.n)("ThreadedResponsesSidebarContent")}),O=function(e){var n,t,i,l,r,s,m,c,k,v=e.isResponsesSidebarVisible,f=e.inResponseToQuote,N=e.setInResponseToQuote,h=e.parentPost,y=e.continueThisThreadPost,b=e.continueThisThreadPostDepth,F=e.showPreviousSidebar,P=e.cleanupSidebar,C=e.initialSidebarRender,O=o.useState(_.sV.TOP),T=a()(O,2),A=T[0],R=T[1],B=o.useState(!1),L=a()(B,2),U=L[0],M=L[1],V=o.useRef(null),j=(0,S.t)(I.A,{variables:{postId:h.id,postResponsesPaging:{limit:d.p4},sortType:A},ssr:!1}),W=a()(j,2),H=W[0],z=W[1],G=z.called,Y=z.loading,$=z.data,Q=z.fetchMore;G||y||!v||(H(),D.preload());var q=null==$||null===(n=$.post)||void 0===n?void 0:n.responsesLocked,Z=null==$||null===(t=$.post)||void 0===t?void 0:t.isLockedResponse,K=(0,d.aj)(v,C,null==$||null===(i=$.post)||void 0===i?void 0:i.threadedPostResponses,y),X=K.responses,J=K.showCreateReplyEditor,ee=(null==$||null===(l=$.post)||void 0===l||null===(r=l.responseRootPost)||void 0===r||null===(s=r.post)||void 0===s?void 0:s.id)||"",ne=b||(null==$||null===(m=$.post)||void 0===m||null===(c=m.responseRootPost)||void 0===c?void 0:c.responseDepth)||0,te=void 0,ie=null==X||null===(k=X.pagingInfo)||void 0===k?void 0:k.next;return ie&&!y&&(te=function(){var e=g()(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q){e.next=5;break}return ie.__typename,n=p()(ie,["__typename"]),e.next=4,Q({variables:{postId:h.id,postResponsesPaging:n}});case 4:M(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),o.createElement(w.N8,null,o.createElement(x.cW,{source:{name:"responses",postId:h.id},extendSource:!0},o.createElement(E.I,{sidebarRef:V,cleanupSidebar:P,isResponsesSidebarVisible:v,pagingInfoNext:ie,isFetchingNextSetOfResponses:U,setIsFetching:M,fetchMoreWithArguments:te,initialSidebarRender:C},(function(e){var n=e.responseDistribution,t=e.setResponseDistribution,i=e.closeSidebar;return G||y?o.createElement(D,{responses:X,parentPost:h,responsesLocked:q,isLockedResponse:Z,isLoadingInitialContent:Y,isFetchingNextSetOfResponses:U,isResponsesSidebarVisible:v,closeSidebar:i,showPreviousSidebar:F,inResponseToQuote:f,setInResponseToQuote:N,sidebarRef:V,responseDistribution:n,setResponseDistribution:t,responseSortType:A,setResponseSortType:R,rootPostId:ee,postDepth:ne,isContinueThisThread:!!y,showCreateReplyEditor:J}):null}))))},T=((0,f.Ps)(C(),F),function(e){var n=e.children,t=e.post,i=(0,o.useState)(void 0),s=a()(i,2),m=s[0],c=s[1],u=(0,o.useCallback)((function(e){return function(n){c(n),e()}}),[]);return o.createElement(r.E,null,(function(e){var i=e.showPreviousSidebar,a=e.hasLoaded,r=e.initialSidebarRender,s=e.isVisible,k=e.continueThisThreadPosts,p=e.openSidebar,v=e.cleanupSidebar;return o.createElement(l.Q.Provider,{value:{openSidebarToRespondToHighlight:u(p)}},!!t&&a&&o.createElement(O,{isResponsesSidebarVisible:s&&0===k.length,parentPost:t,inResponseToQuote:m,setInResponseToQuote:c,showPreviousSidebar:i,cleanupSidebar:v,initialSidebarRender:!!r.current}),!!t&&a&&k.map((function(e,n,a){var l=(0,d.iI)(n);return o.createElement(O,{key:t.id,isResponsesSidebarVisible:s&&n===a.length-1,parentPost:t,inResponseToQuote:m,setInResponseToQuote:c,continueThisThreadPost:e,continueThisThreadPostDepth:l,showPreviousSidebar:i,cleanupSidebar:v,initialSidebarRender:!!r.current})})),n)}))})},55193:(e,n,t)=>{"use strict";t.d(n,{v:()=>i,Q:()=>a});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]}},66018:(e,n,t)=>{"use strict";t.d(n,{Lv:()=>u});var i=t(28655),a=t.n(i),o=t(92471),l=t(67294),r=t(27517),d=t(25735),s=t(78285);function m(){var e=a()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return m=function(){return e},e}function c(){var e=a()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return c=function(){return e},e}var u=function(e){var n=e.user,t=e.post,i=e.forceLoad,a=void 0!==i&&i,o=(0,r.I0)(),m=(0,d.VB)({name:"can_view_suspended_content",placeholder:!1})||a;return l.useEffect((function(){m&&(n&&n.isSuspended?o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):t&&t.isSuspended&&o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==t?void 0:t.id)||""}})))}),[m]),null};(0,o.Ps)(c()),(0,o.Ps)(m())},78620:(e,n,t)=>{"use strict";t.d(n,{H:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UpsellClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/PostPage.MainContent.e7206326.chunk.js.map